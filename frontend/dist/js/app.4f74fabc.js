(function(){"use strict";var t={2169:function(t,e){e.A={backendEndpoint:"https://fast3-backend.azurewebsites.net"}},9135:function(t,e,a){var r=a(5129);e.A={methods:{handleError(t){t.message.startsWith("Invalid")||t.message.startsWith("Username")?this.errorMessage="Username or password are incorrect!":t.message.startsWith("No profile with")||("Token Expired"===t.message?(this.errorMessage="Session has expired. Please log in.",r.A.dispatch("logout")):"Cannot read properties of null"===t.message?this.errorMessage="Something went wrong, please try again":t instanceof TypeError&&"Failed to fetch"===t.message?this.errorMessage="Failed to fetch data. Please check your internet connection.":this.errorMessage="Something went wrong, please try again")}}}},5623:function(t,e,a){a(4114);var r=a(5130),s=a(8355),i=a(5129),o=a(6768);function n(t,e,a,r,s,i){const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(n,{"is-idle":r.isIdle,"last-active-date":r.lastActiveDate,"inactive-time":r.inactiveTime},null,8,["is-idle","last-active-date","inactive-time"])])}var l=a(144),c=a(7398),d={setup(){const{idle:t,lastActive:e}=(0,c.UQV)(6e4);let a;const r=(0,l.KR)(!1),s=(0,l.KR)(new Date(e.value)),n=(0,l.KR)(0),d=()=>{const t=(new Date).getTime(),a=e.value,s=t-a;n.value=Math.floor(s/6e4),r.value=s>=1e4,n.value>=30&&i.A.dispatch("inactiveLogout")},u=function(t){t.state&&"/products"===t.state.current&&window.location.assign("/products")},p=function(t){if(t.state&&t.state.current.startsWith("/category")){let e=t.state.current;window.location.assign(e)}};return window.addEventListener("popstate",u),window.addEventListener("popstate",p),(0,o.sV)((()=>{t.value=!1,a=setInterval(d,6e4)})),(0,o.hi)((()=>{clearInterval(a),s.value=new Date,n.value=0,window.removeEventListener("popstate",u),window.removeEventListener("popstate2",p)})),(0,o.wB)(e,(()=>{s.value=new Date(e.value)})),{isIdle:r,lastActiveDate:s,inactiveTime:n}}},u=a(1241);const p=(0,u.A)(d,[["render",n]]);var m=p,g=a(4570),h=a.n(g),f=a(9135),v=a(6587),k=a.n(v),y=(a(8077),a(1662));window.$=window.jQuery=k(),s.A.defaults.baseURL="https://fast3-krassy.azurewebsites.net";let b=!1;s.A.interceptors.response.use((t=>t),(async t=>{if(t.response&&401===t.response.status){if("Username or password are incorrect!"===t.response.data.detail)return void i.A.dispatch("setErrorMessage","Username or password are incorrect!");const a=null!==i.A.state.refreshToken;if(a&&!b){b=!0;try{const e=await i.A.dispatch("refreshAccessToken");return t.config.headers.Authorization=`Bearer ${e}`,s.A.request(t.config)}catch(e){if("Token has expired"!==e.response.data.detail)throw e;i.A.dispatch("setErrorMessage","Session has expired. Please log in."),i.A.dispatch("logout"),y.A.push({name:"login"})}finally{b=!1}}}return Promise.reject(t)})),s.A.interceptors.request.use((t=>null!==i.A.state.accessToken?(t.headers.Authorization=`Bearer ${i.A.state.accessToken}`,t.headers.Accept="application/json",t):(y.A.push("/login"),t)),(t=>Promise.reject(t)));const C=(0,r.Ef)(m);C.mixin(f.A),C.use(y.A).use(i.A).use(h()).mount("#app")},1662:function(t,e,a){a.d(e,{A:function(){return cn}});var r=a(1387),s=a(6768),i=a(4232),o=a(5130);const n={class:"container-fluid",style:{width:"100vw",position:"sticky",margin:"0",padding:"0"}},l={class:"navbar navbar-expand-lg fixed-top bg-light",style:{height:"4em"}},c=(0,s.Lk)("div",{class:"toast",id:"cartToast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false",style:{position:"fixed",top:"12%",right:"2%",transform:"translate(0, -50%)",width:"250px","z-index":"1000"}},[(0,s.Lk)("div",{class:"toast-body",id:"cartToastBody",style:{"font-weight":"500",font:"1.1rem"}})],-1),d={class:"product-container"},u={class:"filter-products-container row col-2"},p={class:"filter-card"},m={class:"filter-content collapse show",id:"collapse_2"},g=(0,s.Lk)("label",{style:{"font-size":"0.9rem",display:"block","margin-bottom":"10px","font-weight":"500"}},"Filter by Category ",-1),h={class:"card-body"},f={style:{"font-size":"0.9rem"}},v=["data-category","disabled"],k={style:{"padding-left":"5px","font-size":"0.85rem","font-weight":"400"}},y={class:"text-muted",style:{"font-size":"0.8rem","font-family":"sans-serif","font-weight":"500"}},b={class:"filter-card"},C={class:"card-body"},L=(0,s.Lk)("label",{style:{"font-size":"0.9rem",display:"block","margin-bottom":"5px","font-weight":"500"}},"Filter by Price",-1),x={class:"price-input row"},T={class:"form-group col-md-6"},w=(0,s.Lk)("label",{for:"minPrice",style:{"font-size":"0.8rem","margin-left":"23px"}},"Min Price",-1),E=["min","max"],$={class:"form-group col-md-6"},_=(0,s.Lk)("label",{for:"maxPrice",style:{"font-size":"0.8rem","margin-left":"12px"}},"Max Price",-1),P=["min","max"],A={class:"row"},I={class:"col-md-12"},F={class:"slider-container"},M={class:"range-input"},S=["min","max","value"],R=["min","max","value"],D={style:{"padding-top":"11%","padding-bottom":"1%"}},z={key:0,class:"bi bi-sort-up-alt",style:{"font-size":"0.9rem"}},X={key:1,class:"bi bi-sort-down",style:{"font-size":"0.9rem"}},N={class:"filter-card",style:{height:"45px","align-items":"center","text-align":"left"}},O={class:"filter-content collapse show",id:"collapse_3"},B={class:"form-check form-check-inline",style:{display:"flex","align-items":"left"}},U=(0,s.Lk)("label",{style:{"font-size":"0.9rem","margin-top":"0","margin-bottom":"0","padding-left":"5px"}},"Discounted Products",-1),Q={class:"filter-card"},j={key:0,class:"filter-content collapse show",id:"collapse_4"},V=(0,s.Lk)("label",{style:{"font-size":"0.9rem","font-weight":"500"}}," Filter by Rating ",-1),q=["id","value","disabled"],H=["for"],K={class:"text-muted",style:{"font-size":"0.8rem","padding-left":"0","font-weight":"500"}},G={key:0,class:"product-list",id:"mycard"},W={key:1,style:{"align-items":"center","margin-left":"10%"}},Y=["src"],J={"aria-label":"Pagination",style:{"margin-top":"30px"}},Z={class:"pagination justify-content-center"},tt=["disabled"],et=["onClick"],at=["disabled"];function rt(t,e,r,rt,st,it){const ot=(0,s.g2)("MyNavbar"),nt=(0,s.g2)("ProductList"),lt=(0,s.g2)("Footer");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("nav",l,[(0,s.bF)(ot,{cart:it.cart,favorites:it.favorites,total:it.total,user:it.user,user_id:it.user_id,profile:it.profile,onAddToCart:it.addToCart,onRemoveFromCart:it.removeFromCart,onRedirectToItemFromNavbar:it.redirectToItemFromNavbar},null,8,["cart","favorites","total","user","user_id","profile","onAddToCart","onRemoveFromCart","onRedirectToItemFromNavbar"])]),c,(0,s.Lk)("div",d,[(0,s.Lk)("div",u,[(0,s.Lk)("div",p,[(0,s.Lk)("div",m,[g,(0,s.Lk)("div",h,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(it.categories,(t=>((0,s.uX)(),(0,s.CE)("div",{class:(0,i.C4)(["container",{active:0!==t[1]}]),key:t[2],style:{"padding-left":"7px"}},[(0,s.Lk)("label",f,[(0,s.Lk)("input",{style:{"font-size":"0.8rem","margin-bottom":"2px"},type:"checkbox",class:"cat-checkbox","data-category":t[2],disabled:0===t[1],onChange:e[0]||(e[0]=(...t)=>it.handleCategoryChange&&it.handleCategoryChange(...t))},null,40,v),(0,s.Lk)("span",k,(0,i.v_)(t[0]),1)]),(0,s.Lk)("span",y," ("+(0,i.v_)(t[1])+") ",1)],2)))),128))])])]),(0,s.Lk)("div",b,[(0,s.Lk)("div",C,[L,(0,s.Lk)("div",x,[(0,s.Lk)("div",T,[w,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>it.min=t),style:{"font-size":"0.8rem"},type:"text",class:"min-input form-control",id:"minPrice",min:it.productMin,max:it.productMax,pattern:"[1-9][0-9]*",disabled:"",required:""},null,8,E),[[o.Jo,it.min,void 0,{number:!0}]])]),(0,s.Lk)("div",$,[_,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>it.max=t),style:{"font-size":"0.8rem"},type:"text",class:"max-input form-control",id:"maxPrice",pattern:"[1-9][0-9]*",min:it.productMin,max:it.productMax,disabled:"",required:""},null,8,P),[[o.Jo,it.max,void 0,{number:!0}]])])]),(0,s.Lk)("div",A,[(0,s.Lk)("div",I,[(0,s.Lk)("div",F,[(0,s.Lk)("div",{class:"price-slider",style:(0,i.Tr)({left:it.min/it.productMax*100+"%",right:100-it.max/it.productMax*100+"%"})},null,4)])])])]),(0,s.Lk)("div",M,[(0,s.Lk)("input",{type:"range",class:"min-range",min:it.productMin,max:it.productMax,value:it.min,step:"1",onInput:e[3]||(e[3]=(...t)=>it.updateInputs&&it.updateInputs(...t))},null,40,S),(0,s.Lk)("input",{type:"range",class:"max-range",min:it.productMin,max:it.productMax,value:it.max,step:"1",onInput:e[4]||(e[4]=(...t)=>it.updateInputs&&it.updateInputs(...t))},null,40,R)]),(0,s.Lk)("div",D,[(0,s.Lk)("button",{type:"button",class:"custom-button",onClick:e[5]||(e[5]=(...t)=>it.toggleSortOrder&&it.toggleSortOrder(...t)),style:{"align-items":"center","font-size":"0.8rem"}},[(0,s.eW)(" Sort Price "),"asc"===it.sortOrder?((0,s.uX)(),(0,s.CE)("span",z)):((0,s.uX)(),(0,s.CE)("span",X))])])]),(0,s.Lk)("div",N,[(0,s.Lk)("div",O,[(0,s.Lk)("div",B,[(0,s.bo)((0,s.Lk)("input",{class:"brand-checkbox",type:"checkbox",id:"discountCheckbox","onUpdate:modelValue":e[6]||(e[6]=t=>st.isChecked=t),onChange:e[7]||(e[7]=(...t)=>it.handleDiscountChange&&it.handleDiscountChange(...t)),style:{"font-size":"0.9rem","margin-bottom":"9px","margin-left":"-17px"}},null,544),[[o.lH,st.isChecked]]),U])])]),(0,s.Lk)("div",Q,[it.ratings&&it.ratings.length?((0,s.uX)(),(0,s.CE)("div",j,[V,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(it.ratings.slice().reverse(),(t=>((0,s.uX)(),(0,s.CE)("div",{class:"form-check form-check-inline",key:t,style:{display:"flex","align-items":"center","font-size":"0.8rem","margin-left":"0","padding-left":"0"}},[(0,s.bo)((0,s.Lk)("input",{style:{"font-size":"0.9rem","margin-bottom":"8px","margin-left":"8px"},class:"brand-checkbox",type:"checkbox",id:"rating"+t,value:t,disabled:0===it.getRatingItemCount(t),"onUpdate:modelValue":e[8]||(e[8]=t=>it.selectedRating=t)},null,8,q),[[o.lH,it.selectedRating]]),(0,s.Lk)("label",{class:"form-check-label",for:"rating"+t,style:{"margin-left":"5px"}},[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,(e=>(0,s.Lk)("span",{key:e,class:(0,i.C4)(["fa",{"fa-star checked":e<=t,"fa-star unchecked":e>t}]),style:{"font-size":"15px","margin-top":"8px"}},null,2))),64)),(0,s.Lk)("span",K," ("+(0,i.v_)(it.getRatingItemCount(t))+") ",1)],8,H)])))),128))])):(0,s.Q3)("",!0)])]),it.filteredProducts&&it.filteredProducts.length>0?((0,s.uX)(),(0,s.CE)("div",G,[(0,s.bF)(o.F,{name:"product-fade"},{default:(0,s.k6)((()=>[((0,s.uX)(),(0,s.Wv)(nt,{products:it.paginatedProducts,key:it.products,currentPage:st.currentPage,itemsPerPage:st.itemsPerPage,cart:it.cart,favorites:it.favorites,onAddToCart:it.addToCart,onAddTofavorites:it.addTofavorites,onRemoveFromCart:it.removeFromCart,onRemoveFromFavorites:it.removeFromFavorites,onRedirectToItem:it.redirectToItem,style:{"justify-content":"left","margin-top":"0"}},null,8,["products","currentPage","itemsPerPage","cart","favorites","onAddToCart","onAddTofavorites","onRemoveFromCart","onRemoveFromFavorites","onRedirectToItem"]))])),_:1})])):((0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("img",{src:a(1833)},null,8,Y)]))]),(0,s.Lk)("nav",J,[(0,s.Lk)("ul",Z,[(0,s.Lk)("li",{class:(0,i.C4)(["page-item",{disabled:1===st.currentPage}])},[(0,s.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=(...t)=>it.prevPage&&it.prevPage(...t)),disabled:1===st.currentPage}," Prev ",8,tt)],2),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(it.visiblePages,(t=>((0,s.uX)(),(0,s.CE)("li",{key:t,class:(0,i.C4)(["page-item",{active:st.currentPage===t}])},[(0,s.Lk)("button",{class:"page-link",onClick:e=>it.setCurrentPage(t)},(0,i.v_)(t),9,et)],2)))),128)),(0,s.Lk)("li",{class:(0,i.C4)(["page-item",{disabled:st.currentPage===it.totalPages}])},[(0,s.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=(...t)=>it.nextPage&&it.nextPage(...t)),disabled:st.currentPage===it.totalPages}," Next ",8,at)],2)])]),(0,s.bF)(lt)])}a(4114),a(8077);var st=a(4570),it=a.n(st),ot=a(5068);const nt={key:0},lt={class:"product-list",id:"mycard"},ct=["data-category"],dt={class:"card-body",style:{padding:"1%"}},ut={key:0,class:"badge bg-danger position-absolute top-0 start-0",style:{"font-size":"0.8rem",margin:"1%",top:"0"}},pt=["onClick","id"],mt=["src","onClick"],gt=["onClick"],ht=["onClick"],ft=["id"],vt=["id"],kt=["data-price"],yt={style:{margin:"0",padding:"0",display:"flex","flex-direction":"column"}},bt={style:{"font-size":"0.95rem",color:"#dc3545","font-weight":"800","margin-bottom":"1%","margin-top":"1%","margin-left":"-12px"}},Ct={key:0},Lt=(0,s.Lk)("span",{style:{"font-size":"1rem"}},"$",-1),xt={style:{"font-size":"1rem"}},Tt={key:0,class:"old-price"},wt={key:1,style:{"font-size":"1em","margin-top":"1%"}},Et=["onClick"],$t=(0,s.Lk)("i",{class:"bi bi-cart-fill",style:{"font-size":"0.9rem"}},null,-1),_t={key:1,style:{"align-items":"center","margin-left":"10%"}},Pt=["src"];function At(t,e,r,n,l,c){return r.products&&r.products.length>0?((0,s.uX)(),(0,s.CE)("div",nt,[(0,s.Lk)("div",lt,[(0,s.bF)(o.F,{name:"product-fade"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.products,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:"card","data-category":t.category_id,style:{margin:"0.15%",padding:"0.15%"}},[(0,s.Lk)("div",dt,[t.discount>=.01?((0,s.uX)(),(0,s.CE)("span",ut,"-"+(0,i.v_)(Math.floor(100*t.discount))+"%",1)):(0,s.Q3)("",!0),(0,s.Lk)("span",{class:(0,i.C4)(c.getHeartClasses(t)),onClick:e=>c.addTofavorites(t),id:"heart"+t.id,style:{position:"absolute",top:"1%",right:"1%","font-weight":"900","font-size":"1.2em",cursor:"pointer"}},null,10,pt),(0,s.Lk)("img",{src:`${l.backendEndpoint}/static/img/${t.username}/${t.name}/${t.image}`,class:"card-img-top",onClick:e=>c.redirectToItemFromProduct(t.id),style:{cursor:"pointer"}},null,8,mt),(0,s.Lk)("h6",{onClick:e=>c.redirectToItemFromProduct(t.id),class:"card-title",style:{"margin-bottom":"1%",padding:"1%",height:"3em","font-size":"1rem",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical","line-height":"1",cursor:"pointer"}},(0,i.v_)(c.truncateName(t.name,60)),9,gt),(0,s.Lk)("p",{style:{cursor:"pointer","margin-bottom":"1%","font-size":"0.9em"},onClick:e=>c.redirectToItemFromProduct(t.id)},[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,(e=>(0,s.Lk)("span",{key:e,class:(0,i.C4)(c.getStarClasses(e,t.rating_float))},null,2))),64)),(0,s.Lk)("span",{id:"overall-rating"+t.id+"-float",class:"overall-rating",style:{"font-family":"Arial"}}," "+(0,i.v_)(parseFloat(t.rating_float).toFixed(2)),9,ft),(0,s.Lk)("span",{id:"overall-rating"+t.id,class:"overall-rating2",style:{"font-family":"Arial"}}," ("+(0,i.v_)(t.review_number)+") ",9,vt)],8,ht),(0,s.Lk)("input",{type:"number","data-price":t.price,hidden:""},null,8,kt),(0,s.Lk)("div",yt,[(0,s.Lk)("span",bt,[t.discount_price?((0,s.uX)(),(0,s.CE)("div",Ct,[Lt,(0,s.Lk)("span",xt,(0,i.v_)(t.discount_price),1)])):(0,s.Q3)("",!0)]),t.discount>=.1?((0,s.uX)(),(0,s.CE)("span",Tt," $"+(0,i.v_)(Math.floor(t.price)),1)):((0,s.uX)(),(0,s.CE)("span",wt," ")),(0,s.Lk)("button",{ref_for:!0,ref:"addToCartButton",onClick:e=>c.addToCart(t),class:"btn btn-secondary btn-sm",style:{"margin-top":"1px",width:"100%"}},[(0,s.eW)(" Add to Cart "),$t],8,Et)])])],8,ct)))),128))])),_:1})])])):((0,s.uX)(),(0,s.CE)("div",_t,[(0,s.Lk)("img",{src:a(6634)},null,8,Pt)]))}var It=a(9135),Ft=a(2169),Mt={props:{product:Object,min:Number,max:Number,cart:Array,favorites:Array,products:{type:Array,required:!0},currentPage:{type:Number,required:!0},itemsPerPage:{type:Number,required:!0}},emits:["addToCart","redirectToItem","addTofavorites"],mixins:[It.A],data(){return{backendEndpoint:`${Ft.A.backendEndpoint}`}},computed:{formattedPrice(){const t=Number(this.product.discount_price)||0,[e,a]=t.toFixed(2).split("."),r=e.replace(/\B(?=(\d{3})+(?!\d))/g,"."),s=a||"00";return{integerPart:r,decimalPart:s}},filteredProducts(){return this.$store.getters.filteredProducts},errorMessage(){return this.$store.getters.errorMessage},isFavorite(t){return this.$store.state.favorites.some((e=>e.id===t.id))},getHeartClasses(){return t=>{const e=this.$store.state.favorites.some((e=>e.id===t.id));return e?"fa fa-heart red-color":"fa fa-heart-o"}}},methods:{redirectToItemFromProduct(t){this.$store.dispatch("redirectToItem",t)},itemAlreadyInCart(t){return this.$store.getters.isItemInCart(t.id)},addToCart(t){this.$store.dispatch("addToCart",t)},addTofavorites(t){this.$store.dispatch("addTofavorites",t)},removeFromFavorites(t){this.$store.dispatch("removeFromFavorites",t)},getStarClasses(t,e){const a=Math.floor(e);return t<=a?"fa fa-star checked":t===a+1&&e%1!==0?"fa fa-star-half-full checked":"fa fa-star-o checked"},truncateName(t,e){return t?t.length>e?t.substring(0,e)+"..":t:""}}},St=a(1241);const Rt=(0,St.A)(Mt,[["render",At]]);var Dt=Rt,zt=a(9746),Xt=a(3755),Nt={name:"HomeView",components:{ProductList:Dt,MyNavbar:zt.A,Footer:Xt.A},props:{isIdle:Boolean,lastActiveDate:Date,inactiveTime:Number},mixins:[It.A],data(){return{isChecked:this.$store.state.isDiscountedChecked,backendEndpoint:`${Ft.A.backendEndpoint}`,currentPage:1,itemsPerPage:32,visiblePageRange:5}},created(){if(!this.$store.state.accessToken){const t=it().get("access_token");if(t){const e=(0,ot.s)(t).sub,a=(0,ot.s)(t).user_id;this.$store.commit("UPDATE_USER",e),this.$store.commit("UPDATE_USER_ID",a)}else this.errorMessage="Session expired",cn.push("/login")}this.$store.dispatch("getProducts").then((()=>this.$store.dispatch("getProfile"))).then((()=>this.$store.dispatch("fetchCategories"))).then((()=>this.$store.dispatch("checkFavoritesOnLoad"))).then((()=>this.$store.dispatch("updateHomeProductRange"))).catch((t=>{t.message}))},computed:{paginatedProducts(){const t=this.groupedProducts,e=this.currentPage-1;if(e>=0&&e<t.length){const a=t[e],r=a.filter((t=>{const e=0===this.$store.state.selectedCategories.length||this.$store.state.selectedCategories.includes(String(t.category_id)),a=t.price>=this.$store.state.min&&t.price<=this.$store.state.max,r=0===this.$store.state.selectedRating.length||this.$store.state.selectedRating.includes(Math.round(t.rating_float)),s=!this.$store.state.isDiscountedChecked||null!=t.discount;return a&&e&&r&&s}));return r}return[]},groupedProducts(){const t=this.itemsPerPage,e=this.$store.getters.filteredProducts,a=[];for(let r=0;r<e.length;r+=t){const s=e.slice(r,r+t);a.push(s)}return a},totalPages(){return Math.ceil(this.filteredProducts.length/this.itemsPerPage)},visiblePages(){const t=Math.max(1,this.currentPage-this.visiblePageRange),e=Math.min(this.totalPages,t+2*this.visiblePageRange),a=[];for(let r=t;r<=e;r++)a.push(r);return a},formattedLastActive(){return this.lastActiveDate?new Date(this.lastActiveDate).toLocaleString():""},formattedInactiveTime(){return this.inactiveTime>=0?`${this.inactiveTime} min`:""},errorMessage(){return this.$store.getters.errorMessage},total(){return this.$store.getters.total},filteredProducts(){return this.$store.getters.filteredProducts},products(){return this.$store.getters.products},cart(){return this.$store.getters.cart},favorites(){return this.$store.getters.favorites},min(){return this.$store.getters.min},max(){return this.$store.getters.max},productMin(){return this.$store.getters.productMin},productMax(){return this.$store.getters.productMax},selectedCategories(){return this.$store.getters.selectedCategories},selectedRating:{get(){return this.$store.getters.selectedRating},set(t){this.$store.commit("SET_SELECTED_RATING",t)}},ratings(){return this.$store.getters.ratings},accessToken(){return this.$store.getters.accessToken},accessTokenExpiration(){return this.$store.getters.accessTokenExpiration},refreshTokenExpiration(){return this.$store.getters.refreshTokenExpiration},user_id(){return this.$store.state.user_id},user(){return this.$store.state.user},profile(){return this.$store.state.profile},categories(){return this.$store.getters.categories},sortOrder(){return this.$store.getters.sortOrder}},methods:{handlePageChange(t){this.currentPage=t},nextPage(){this.currentPage<this.totalPages&&this.currentPage++,this.scrollToTop()},prevPage(){this.currentPage>1&&this.currentPage--,this.scrollToTop()},setCurrentPage(t){this.currentPage=t,this.scrollToTop()},updateProductRange(){const t=this.$store.state.products.map((t=>t.price));this.$store.state.productMin=Math.ceil(Math.min(...t)),this.$store.state.productMax=Math.ceil(Math.max(...t))},async getProduct(t){this.$store.dispatch("getProduct",t)},async getProducts(){this.$store.dispatch("getProducts")},async fetchCategories(){this.$store.dispatch("fetchCategories")},async handleCategoryChange(){const t=await this.$store.dispatch("getSelectedCategories");this.$store.commit("UPDATE_SELECTED_CATEGORIES",t),this.currentPage=1},toggleSortOrder(){this.$store.dispatch("toggleSortOrder")},redirectToItem(t){this.$store.dispatch("redirectToItem",t)},handleRatingChange(t){this.$store.dispatch("handleRatingChange",t)},getRatingItemCount(t){const e=this.$store.state.products,a=e.reduce(((e,a)=>{const r=parseFloat(a.rating_float),s=Math.floor(r+.5);return s===t?e+1:e}),0);return a},updateInputs(){this.$store.dispatch("updateInputs")},scrollToTop(){window.scrollTo({top:0,left:0,behavior:"auto"})},addToCart(t){this.$store.dispatch("addToCart",t)},removeFromCart(t){this.$store.dispatch("removeFromCart",t)},addTofavorites(t){this.$store.dispatch("addTofavorites",t)},removeFromFavorites(t){this.$store.dispatch("removeFromFavorites",t)},handleDiscountChange(){this.$store.dispatch("handleDiscountChange",this.isChecked)},redirectToItemFromNavbar(t){this.$store.dispatch("redirectToItem",t)}}};const Ot=(0,St.A)(Nt,[["render",rt]]);var Bt=Ot;const Ut={class:"container-fluid",style:{width:"100vw",position:"sticky",margin:"0",padding:"0"}},Qt={class:"navbar navbar-expand-lg fixed-top bg-light",style:{height:"4em"}},jt=(0,s.Lk)("div",{class:"toast",id:"cartToast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false",style:{position:"fixed",top:"12%",right:"5%",transform:"translate(0, -50%)",width:"250px","z-index":"1000"}},[(0,s.Lk)("div",{class:"toast-body",id:"cartToastBody",style:{"font-weight":"600",font:"1.1em"}})],-1),Vt={class:"product-container"},qt={class:"filter-products-container row col-2"},Ht={class:"filter-card"},Kt={class:"filter-content collapse show",id:"collapse_2"},Gt=(0,s.Lk)("label",{style:{"font-size":"0.9rem",display:"block","margin-bottom":"10px","font-weight":"500"}},"Filter by Brand",-1),Wt={class:"card-body",style:{height:"200px","overflow-y":"auto"}},Yt={style:{"font-size":"0.85rem"}},Jt=["data-brand","disabled","onChange"],Zt={style:{"padding-left":"8px","font-size":"0.8rem","font-weight":"500"}},te={class:"text-muted",style:{"font-size":"0.8rem","padding-left":"0","font-familly":"sans-serif","font-weight":"500"}},ee={class:"filter-card"},ae={class:"card-body"},re=(0,s.Lk)("label",{style:{"font-size":"0.9rem",display:"block","margin-bottom":"5px","font-weight":"500"}},"Filter by Price",-1),se={class:"price-input row"},ie={class:"form-group col-md-6"},oe=(0,s.Lk)("label",{for:"minPrice",style:{"font-size":"0.8rem","margin-left":"23px","font-weight":"500"}},"Min Price",-1),ne=["min","max"],le={class:"form-group col-md-6"},ce=(0,s.Lk)("label",{for:"maxPrice",style:{"font-size":"0.8rem","margin-left":"12px","font-weight":"500"}},"Max Price",-1),de=["min","max"],ue={class:"row"},pe={class:"col-md-12"},me={class:"slider-container"},ge={class:"range-input"},he=["min","max","value"],fe=["min","max","value"],ve={style:{"padding-top":"11%","padding-bottom":"1%"}},ke={key:0,class:"bi bi-sort-up-alt",style:{"font-size":"0.8rem"}},ye={key:1,class:"bi bi-sort-down",style:{"font-size":"0.8rem"}},be={class:"filter-card",style:{height:"45px","align-items":"center","text-align":"left"}},Ce={class:"filter-content collapse show",id:"collapse_3"},Le={class:"form-check form-check-inline",style:{display:"flex","align-items":"center"}},xe=(0,s.Lk)("label",{style:{"font-size":"0.85rem","margin-top":"0","margin-bottom":"0","padding-left":"5px"}},"Discounted Products",-1),Te={class:"filter-card"},we={key:0,class:"filter-content collapse show",id:"collapse_4"},Ee=(0,s.Lk)("label",{style:{"font-size":"0.9rem","font-weight":"500"}}," Filter by Rating ",-1),$e=["id","value","disabled"],_e=["for"],Pe={class:"text-muted",style:{"font-size":"0.8rem","padding-left":"0","font-weight":"500"}},Ae={key:0,class:"product-list",id:"mycard",style:{"margin-top":"3%"}},Ie={key:1,style:{"align-items":"center","margin-left":"10%"}},Fe=["src"];function Me(t,e,r,n,l,c){const d=(0,s.g2)("MyNavbar"),u=(0,s.g2)("ProductList"),p=(0,s.g2)("Footer");return(0,s.uX)(),(0,s.CE)("div",Ut,[(0,s.Lk)("nav",Qt,[(0,s.bF)(d,{cart:c.cart,favorites:c.favorites,total:c.total,user:c.user,user_id:c.user_id,profile:c.profile,onAddToCart:c.addToCart,onRemoveFromCart:c.removeFromCart,onRedirectToItemFromNavbar:c.redirectToItemFromNavbar},null,8,["cart","favorites","total","user","user_id","profile","onAddToCart","onRemoveFromCart","onRedirectToItemFromNavbar"])]),jt,(0,s.Lk)("div",Vt,[(0,s.Lk)("div",qt,[(0,s.Lk)("div",Ht,[(0,s.Lk)("div",Kt,[Gt,(0,s.Lk)("div",Wt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(c.uniqueBrands,(t=>((0,s.uX)(),(0,s.CE)("div",{class:(0,i.C4)(["container",{active:0!==c.getBrandCount(t)}]),key:t,style:{"padding-left":"8px"}},[(0,s.Lk)("label",Yt,[(0,s.Lk)("input",{style:{"font-size":"0.9rem","margin-bottom":"2px","padding-left":"0"},type:"checkbox",class:"brand-checkbox","data-brand":t,disabled:0===c.getBrandCount(t),onChange:e=>c.handleBrandChange(e,t)},null,40,Jt),(0,s.Lk)("span",Zt,(0,i.v_)(t),1)]),(0,s.Lk)("span",te," ("+(0,i.v_)(c.getBrandCount(t))+") ",1)],2)))),128))])])]),(0,s.Lk)("div",ee,[(0,s.Lk)("div",ae,[re,(0,s.Lk)("div",se,[(0,s.Lk)("div",ie,[oe,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>c.min=t),style:{"font-size":"0.8rem"},type:"text",class:"min-input form-control",id:"minPrice",min:c.productMin,max:c.productMax,pattern:"[1-9][0-9]*",disabled:"",required:""},null,8,ne),[[o.Jo,c.min,void 0,{number:!0}]])]),(0,s.Lk)("div",le,[ce,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>c.max=t),style:{"font-size":"0.8rem"},type:"text",class:"max-input form-control",id:"maxPrice",pattern:"[1-9][0-9]*",min:c.productMin,max:c.productMax,disabled:"",required:""},null,8,de),[[o.Jo,c.max,void 0,{number:!0}]])])]),(0,s.Lk)("div",ue,[(0,s.Lk)("div",pe,[(0,s.Lk)("div",me,[(0,s.Lk)("div",{class:"price-slider",style:(0,i.Tr)({"--min":c.min,"--max":c.max,"--productMax":c.productMax})},null,4)])])])]),(0,s.Lk)("div",ge,[(0,s.Lk)("input",{type:"range",class:"min-range",min:c.productMin,max:c.productMax,value:c.min,step:"1",onInput:e[2]||(e[2]=(...t)=>c.updateInputs&&c.updateInputs(...t))},null,40,he),(0,s.Lk)("input",{type:"range",class:"max-range",min:c.productMin,max:c.productMax,value:c.max,step:"1",onInput:e[3]||(e[3]=(...t)=>c.updateInputs&&c.updateInputs(...t))},null,40,fe)]),(0,s.Lk)("div",ve,[(0,s.Lk)("button",{type:"button",class:"custom-button",onClick:e[4]||(e[4]=(...t)=>c.toggleSortOrder&&c.toggleSortOrder(...t)),style:{"align-items":"center","font-size":"0.8rem"}},[(0,s.eW)(" Sort Price "),"asc"===c.sortOrder?((0,s.uX)(),(0,s.CE)("span",ke)):((0,s.uX)(),(0,s.CE)("span",ye))])])]),(0,s.Lk)("div",be,[(0,s.Lk)("div",Ce,[(0,s.Lk)("div",Le,[(0,s.bo)((0,s.Lk)("input",{class:"brand-checkbox",type:"checkbox",id:"discountCheckbox","onUpdate:modelValue":e[5]||(e[5]=t=>l.isChecked=t),onChange:e[6]||(e[6]=(...t)=>c.handleDiscountChange&&c.handleDiscountChange(...t)),style:{"font-size":"0.9rem","margin-bottom":"11px","margin-left":"-17px"}},null,544),[[o.lH,l.isChecked]]),xe])])]),(0,s.Lk)("div",Te,[c.ratings&&c.ratings.length?((0,s.uX)(),(0,s.CE)("div",we,[Ee,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(c.ratings.slice().reverse(),(t=>((0,s.uX)(),(0,s.CE)("div",{class:"form-check form-check-inline",key:t,style:{display:"flex","align-items":"center","font-size":"0.8rem","margin-left":"0","padding-left":"0"}},[(0,s.bo)((0,s.Lk)("input",{style:{"font-size":"0.9rem","margin-bottom":"8px","margin-left":"8px"},class:"brand-checkbox",type:"checkbox",id:"rating"+t,value:t,disabled:0===c.getRatingItemCount(t),"onUpdate:modelValue":e[7]||(e[7]=t=>c.selectedRating=t)},null,8,$e),[[o.lH,c.selectedRating]]),(0,s.Lk)("label",{class:"form-check-label",for:"rating"+t,style:{"margin-left":"5px"}},[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,(e=>(0,s.Lk)("span",{key:e,class:(0,i.C4)(["fa",{"fa-star checked":e<=t,"fa-star unchecked":e>t}]),style:{"font-size":"14px","margin-top":"9px"}},null,2))),64)),(0,s.Lk)("span",Pe," ("+(0,i.v_)(c.getRatingItemCount(t))+") ",1)],8,_e)])))),128))])):(0,s.Q3)("",!0)])]),c.selectedProducts&&c.selectedProducts.length>0?((0,s.uX)(),(0,s.CE)("div",Ae,[(0,s.bF)(o.F,{name:"product-fade"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(c.selectedProducts,(t=>((0,s.uX)(),(0,s.Wv)(u,{key:t.id,cart:c.cart,favorites:c.favorites,class:"row g-0 col-auto",product:t,min:c.min,max:c.max,total:c.total,onAddToCart:c.addToCart,onAddTofavorites:c.addTofavorites,onRemoveFromCart:c.removeFromCart,onRemoveFromFavorites:c.removeFromFavorites,onRedirectToItem:c.redirectToItem,style:{"justify-content":"left"}},null,8,["cart","favorites","product","min","max","total","onAddToCart","onAddTofavorites","onRemoveFromCart","onRemoveFromFavorites","onRedirectToItem"])))),128))])),_:1})])):((0,s.uX)(),(0,s.CE)("div",Ie,[(0,s.Lk)("img",{src:a(1833)},null,8,Fe)]))]),(0,s.bF)(p)])}const Se=["id","data-category"],Re={class:"card-body",style:{padding:"1%"}},De={key:0,class:"badge bg-danger position-absolute top-0 start-0",style:{"font-size":"0.8rem",margin:"1%",top:"0",start:"0"}},ze=["id"],Xe=["src"],Ne=["id"],Oe=["id"],Be=["data-price"],Ue={style:{margin:"0",padding:"0",display:"flex","flex-direction":"column"}},Qe={style:{"font-size":"0.95rem",color:"#dc3545","font-weight":"800","margin-bottom":"1%","margin-top":"1%","margin-left":"-12px"}},je=(0,s.Lk)("span",{style:{"font-size":"1rem"}},"$",-1),Ve={style:{"font-size":"1rem"}},qe={style:{"font-size":"0.7em",position:"relative",top:"-0.4em"}},He={key:0,class:"old-price"},Ke={key:1,style:{"font-size":"1em","margin-top":"1%"}},Ge=(0,s.Lk)("i",{class:"bi bi-cart-fill",style:{"font-size":"0.9rem"}},null,-1);function We(t,e,a,r,o,n){return(0,s.uX)(),(0,s.CE)("div",{class:"card",id:a.product.id,"data-category":a.product.category_id,style:{margin:"0.15%",padding:"0.15%"}},[(0,s.Lk)("div",Re,[a.product.discount>=.01?((0,s.uX)(),(0,s.CE)("span",De,"-"+(0,i.v_)(Math.floor(100*a.product.discount))+"% ",1)):(0,s.Q3)("",!0),(0,s.Lk)("span",{class:(0,i.C4)(n.getHeartClasses(a.product)),onClick:e[0]||(e[0]=t=>n.addTofavorites(a.product)),id:"heart"+a.product.id,style:{position:"absolute",top:"1%",right:"1%","font-weight":"900","font-size":"1.2em",cursor:"pointer"}},null,10,ze),(0,s.Lk)("img",{src:`${o.backendEndpoint}/static/img/`+a.product.username+"/"+a.product.name+"/"+a.product.image,class:"card-img-top",onClick:e[1]||(e[1]=t=>n.redirectToItemFromProduct(a.product.id)),style:{cursor:"pointer"}},null,8,Xe),(0,s.Lk)("h6",{onClick:e[2]||(e[2]=t=>n.redirectToItemFromProduct(a.product.id)),class:"card-title",style:{"margin-bottom":"1%",padding:"1%",height:"3em","font-size":"1rem",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical","line-height":"1",cursor:"pointer"}},(0,i.v_)(n.truncateName(a.product.name,60)),1),(0,s.Lk)("p",{style:{cursor:"pointer","margin-bottom":"1%","font-size":"0.9em"},onClick:e[3]||(e[3]=t=>n.redirectToItemFromProduct(a.product.id))},[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,(t=>(0,s.Lk)("span",{key:t,class:(0,i.C4)(n.getStarClasses(t,a.product.rating_float))},null,2))),64)),(0,s.Lk)("span",{id:"overall-rating"+a.product.id+"-float",class:"overall-rating",style:{"font-familiy":"Arial"}}," "+(0,i.v_)(parseFloat(a.product.rating_float).toFixed(2)),9,Ne),(0,s.Lk)("span",{id:"overall-rating"+a.product.id,class:"overall-rating2",style:{"font-familiy":"Arial"}}," ("+(0,i.v_)(a.product.review_number)+") ",9,Oe)]),(0,s.Lk)("input",{type:"number","data-price":a.product.price,hidden:""},null,8,Be),(0,s.Lk)("div",Ue,[(0,s.Lk)("span",Qe,[(0,s.Lk)("div",null,[je,(0,s.Lk)("span",Ve,(0,i.v_)(n.formattedPrice.integerPart),1),(0,s.Lk)("span",qe,"."+(0,i.v_)(n.formattedPrice.decimalPart),1)])]),a.product.discount>=.1?((0,s.uX)(),(0,s.CE)("span",He," $"+(0,i.v_)(Math.floor(a.product.price)),1)):((0,s.uX)(),(0,s.CE)("span",Ke," ")),(0,s.Lk)("button",{ref:"addToCartButton",onClick:e[4]||(e[4]=t=>n.addToCart(a.product)),class:"btn btn-secondary btn-sm",style:{"margin-top":"1px",width:"100%"}},[(0,s.eW)(" Add to Cart "),Ge],512)])])],8,Se)}var Ye={props:["product","min","max","cart","favorites","products"],emits:["addToCart","redirectToItem","addTofavorites"],mixins:[It.A],data(){return{backendEndpoint:`${Ft.A.backendEndpoint}`}},computed:{formattedPrice(){const t=Number(this.product.discount_price)||0,[e,a]=t.toFixed(2).split("."),r=e.replace(/\B(?=(\d{3})+(?!\d))/g,"."),s=a||"00";return{integerPart:r,decimalPart:s}},filteredProducts(){return this.$store.getters.filteredProducts},errorMessage(){return this.$store.getters.errorMessage},isFavorite(t){return this.$store.state.favorites.some((e=>e.id===t.id))},getHeartClasses(){return t=>{const e=this.$store.state.favorites.some((e=>e.id===t.id));return e?"fa fa-heart red-color":"fa fa-heart-o"}}},methods:{redirectToItemFromProduct(t){this.$store.dispatch("redirectToItem",t)},itemAlreadyInCart(t){return this.$store.getters.isItemInCart(t.id)},addToCart(t){this.$store.dispatch("addToCart",t)},addTofavorites(t){this.$store.dispatch("addTofavorites",t)},removeFromFavorites(t){this.$store.dispatch("removeFromFavorites",t)},getStarClasses(t,e){const a=Math.floor(e);return t<=a?"fa fa-star checked":t===a+1&&e%1!==0?"fa fa-star-half-full checked":"fa fa-star-o checked"},truncateName(t,e){return t?t.length>e?t.substring(0,e)+"..":t:""}}};const Je=(0,St.A)(Ye,[["render",We]]);var Ze=Je,ta={components:{ProductList:Ze,MyNavbar:zt.A,Footer:Xt.A},props:["category"],data(){return{isChecked:this.$store.state.isDiscountedChecked,backendEndpoint:`${Ft.A.backendEndpoint}`,categoryName:null}},created(){if(!this.$store.state.accessToken){const t=it().get("access_token");if(t){const e=(0,ot.s)(t).sub,a=(0,ot.s)(t).user_id;this.$store.commit("UPDATE_USER",e),this.$store.commit("UPDATE_USER_ID",a)}else this.errorMessage="Session expired",cn.push("/login")}const t=this.$route.params.category;t&&this.$store.dispatch("fetchCategories").then((()=>this.$store.dispatch("updateProductRange",t))).then((()=>this.$store.dispatch("checkFavoritesOnLoad"))).catch((t=>{t.message}))},computed:{selectedProducts(){if(!this.category)return[];const t=this.$store.getters.categories.find((t=>t[0]===this.category));if(t){const e=t[0];return this.filterProductsByCategory(e)}return[]},uniqueBrands(){const t={};let e;const a=this.$route.params.category;if(a){const t=this.$store.state.categories.find((t=>t[0]===a));t&&(e=t[2])}if(void 0!==e){const a=this.$store.state.products.filter((t=>t.category_id===e));a.forEach((e=>{const a=e.brand;t[a]=(t[a]||0)+1}))}const r=Object.keys(t).filter((e=>t[e]>0));return r.sort()},formattedLastActive(){return this.lastActiveDate?new Date(this.lastActiveDate).toLocaleString():""},formattedInactiveTime(){return this.inactiveTime>=0?`${this.inactiveTime} min`:""},errorMessage(){return this.$store.getters.errorMessage},total(){return this.$store.getters.total},filteredProducts(){return this.$store.getters.filteredProducts},products(){return this.$store.getters.products},cart(){return this.$store.getters.cart},favorites(){return this.$store.getters.favorites},min(){return this.$store.getters.min},max(){return this.$store.getters.max},productMin(){return this.$store.getters.productMin},productMax(){return this.$store.getters.productMax},selectedCategories(){return this.$store.getters.selectedCategories},selectedBrands(){return this.$store.getters.selectedBrands},selectedRating:{get(){return this.$store.getters.selectedRating},set(t){this.$store.commit("SET_SELECTED_RATING",t)}},ratings(){return this.$store.getters.ratings},accessToken(){return this.$store.getters.accessToken},accessTokenExpiration(){return this.$store.getters.accessTokenExpiration},refreshTokenExpiration(){return this.$store.getters.refreshTokenExpiration},user_id(){return this.$store.state.user_id},user(){return this.$store.state.user},categories(){return this.$store.getters.categories},profile(){return this.$store.getters.profile},sortOrder(){return this.$store.getters.sortOrder}},methods:{filterProductsByCategory(t){return this.$store.getters.filteredProductsByCategory(t)},getBrandCount(t){const e=this.$route.params.category,a=this.$store.state.categories.find((t=>t[0]===e))[2],r=this.$store.state.products.filter((t=>t.category_id===a));return r.filter((e=>e.brand===t)).length},handleBrandChange(t,e){const a=t.target,r=[...this.selectedBrands];if(a.checked)r.push(e);else{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}this.$store.commit("SET_SELECTED_BRANDS",r)},async getProduct(t){this.$store.dispatch("getProduct",t)},async getProducts(){this.$store.dispatch("getProducts")},async fetchCategories(){this.$store.dispatch("fetchCategories")},async handleCategoryChange(){const t=await this.$store.dispatch("getSelectedCategories");this.$store.commit("UPDATE_SELECTED_CATEGORIES",t)},getSelectedCategories(){this.$store.dispatch("getSelectedCategories")},toggleSortOrder(){this.$store.dispatch("toggleSortOrder")},redirectToItem(t){this.$store.dispatch("redirectToItem",t)},handleRatingChange(t){this.$store.dispatch("handleRatingChange",t)},getRatingItemCount(t){let e;const a=this.$route.params.category;if(a){const t=this.$store.state.categories.find((t=>t[0]===a));t&&(e=t[2])}if(void 0!==e){const a=this.$store.state.products.filter((t=>t.category_id===e)),r=a,s=r.reduce(((e,a)=>{const r=parseFloat(a.rating_float),s=Math.floor(r+.5);return s===t?e+1:e}),0);return s}},updateInputs(){this.$store.dispatch("updateInputs")},scrollToTop(){window.scrollTo({top:0,behavior:"auto"})},addToCart(t){this.$store.dispatch("addToCart",t)},removeFromCart(t){this.$store.dispatch("removeFromCart",t)},addTofavorites(t){this.$store.dispatch("addTofavorites",t)},removeFromFavorites(t){this.$store.dispatch("removeFromFavorites",t)},handleDiscountChange(){this.$store.dispatch("handleDiscountChange",this.isChecked)},redirectToItemFromNavbar(t){this.$store.dispatch("redirectToItem",t)}}};const ea=(0,St.A)(ta,[["render",Me]]);var aa=ea;const ra=t=>((0,s.Qi)("data-v-51a55618"),t=t(),(0,s.jt)(),t),sa={class:"container-fluid",style:{width:"100vw",position:"sticky",margin:"0",padding:"0","align-items":"center","text-align":"center"}},ia={class:"navbar navbar-expand-lg bg-white sticky-top navbar-light shadow-lg",style:{height:"4em","margin-left":"0","margin-right":"0","align-items":"center","text-align":"center"}},oa={class:"container my-5"},na={class:"row"},la={class:"col-md-5",style:{"min-height":"550px","max-height":"550px"}},ca=["id"],da={key:0,class:"badge bg-danger position-absolute top-5 start-5",style:{"font-size":"0.9em",margin:"1%",top:"5",start:"5"}},ua=["src"],pa={class:"row my-3 previews"},ma={class:"col-md-3"},ga=["src"],ha={class:"col-md-3"},fa=["src"],va={class:"col-md-3"},ka=["src"],ya={class:"col-md-3"},ba=["src"],Ca={class:"col-md-7",style:{"min-height":"550px","max-height":"550px"}},La={class:"main-description px-2"},xa={key:0,class:"category text-bold"},Ta={key:1,class:"product-title text-bold my-3"},wa={key:2,class:"price-area my-4"},Ea={class:"new-price text-bold mb-1"},$a=ra((()=>(0,s.Lk)("span",{style:{"font-size":"1.2rem"}},"$",-1))),_a={style:{"font-size":"1.2rem"}},Pa={style:{"font-size":"0.7rem",position:"relative",top:"-0.6em"}},Aa={key:0},Ia={style:{"font-size":"0.9rem"}},Fa={key:0,class:"text-danger"},Ma=["id"],Sa=["id"],Ra={class:"buttons d-flex justify-content-center my-4"},Da={class:"block"},za={class:"block"},Xa={key:0,class:"product-details my-2"},Na=ra((()=>(0,s.Lk)("p",{class:"details-title text-color mb-1"},"Product Details",-1))),Oa={class:"description",style:{"margin-left":"20%","margin-right":"20%"}},Ba=(0,s.Fv)('<div class="row questions bg-light p-3" data-v-51a55618><div class="col-md-1 icon" data-v-51a55618><i class="fa-brands fa-rocketchat questions-icon" data-v-51a55618></i></div><div class="col-md-11 text" data-v-51a55618> Have a question about our products at E-Store? Feel free to contact our representatives via live chat or email. </div></div><div class="delivery my-4" data-v-51a55618><p class="font-weight-bold mb-0" data-v-51a55618><span data-v-51a55618><i class="fa-solid fa-truck" data-v-51a55618></i></span><b data-v-51a55618> Delivery done in 3 days from date of purchase</b></p><p class="text-secondary" data-v-51a55618>Order now to get this product delivery</p></div>',2),Ua=ra((()=>(0,s.Lk)("div",{class:"toast",id:"cartToast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false",style:{position:"fixed",top:"10%",right:"5%",transform:"translate(0, -50%)",width:"250px","z-index":"1000"}},[(0,s.Lk)("div",{class:"toast-body",id:"cartToastBody",style:{"font-weight":"900",font:"1.1em"}})],-1))),Qa=ra((()=>(0,s.Lk)("div",{class:"container",style:{"margin-top":"4%","font-size":"2em"}}," You may also like ",-1))),ja={class:"container",style:{"padding-left":"10%",margin:"0",width:"100%"}},Va={class:"nav nav-tabs justify-content-center",style:{"margin-left":"20%"}},qa={class:"nav-item"},Ha={class:"nav-item"},Ka={class:"tab-content mt-3"},Ga={"aria-label":"Page navigation example"},Wa={class:"pagination",style:{"margin-left":"20%"}},Ya=["disabled"],Ja=["onClick"],Za=["disabled"],tr={key:0,style:{"margin-left":"20%"}},er=["id"],ar={style:{flex:"1",display:"flex","align-items":"center"}},rr=["src"],sr=["src"],ir={style:{"margin-left":"2px"}},or=ra((()=>(0,s.Lk)("br",null,null,-1))),nr=["id"],lr={style:{flex:"2","text-align":"left",padding:"10px"}},cr={key:0,class:"cardgroup1",style:{width:"650px","margin-bottom":"2px"}},dr={class:"row"},ur={class:"col-12"},pr=(0,s.Fv)('<div class="rating" style="padding:10px;" data-v-51a55618><input type="radio" name="rating" value="5" id="5" data-v-51a55618><label for="5" data-v-51a55618>☆</label><input type="radio" name="rating" value="4" id="4" data-v-51a55618><label for="4" data-v-51a55618>☆</label><input type="radio" name="rating" value="3" id="3" data-v-51a55618><label for="3" data-v-51a55618>☆</label><input type="radio" name="rating" value="2" id="2" data-v-51a55618><label for="2" data-v-51a55618>☆</label><input type="radio" name="rating" value="1" id="1" data-v-51a55618><label for="1" data-v-51a55618>☆</label></div>',1),mr={class:"comment-box ml-2"},gr={class:"form-control",placeholder:"Write a Review and select a rating",rows:"4",maxlength:"700",ref:"commentArea"},hr={class:"comment-btns mt-2"},fr={class:"row"},vr={class:"col-6"},kr={class:"pull-left"},yr={class:"col-6"},br={class:"pull-right"},Cr={key:1},Lr=ra((()=>(0,s.Lk)("p",null,"No reviews available.",-1))),xr=[Lr],Tr={key:0},wr={key:1},Er=ra((()=>(0,s.Lk)("div",{class:"toast bg-info",id:"cartToast2",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false",style:{position:"fixed",top:"70%",left:"30%",transform:"translate(0, -50%)",width:"250px","z-index":"1000"}},[(0,s.Lk)("div",{class:"d-flex"},[(0,s.Lk)("div",{class:"toast-body bg-light",id:"cartToastBody2",style:{"font-weight":"900",font:"1.1em"}})])],-1)));function $r(t,e,a,r,o,n){const l=(0,s.g2)("NavBar"),c=(0,s.g2)("MessageArea"),d=(0,s.g2)("Footer");return(0,s.uX)(),(0,s.CE)("div",sa,[(0,s.Lk)("nav",ia,[(0,s.bF)(l,{cart:a.cart,user:n.user,total:n.total,favorites:a.favorites,profile:a.profile},null,8,["cart","user","total","favorites","profile"])]),(0,s.Lk)("div",oa,[(0,s.Lk)("div",na,[(0,s.Lk)("div",la,[o.item?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"main-img",id:"main-image-"+o.item.id},[o.item.discount>=.01?((0,s.uX)(),(0,s.CE)("span",da,"-"+(0,i.v_)(Math.floor(100*o.item.discount))+"% ",1)):(0,s.Q3)("",!0),(0,s.Lk)("img",{class:"img-fluid",src:`${o.backendEndpoint}/static/img/${o.item.username}/${o.item.name}/${o.item.image}`,alt:"ProductS"},null,8,ua),(0,s.Lk)("div",pa,[(0,s.Lk)("div",ma,[(0,s.Lk)("img",{class:"img-fluid",src:`${o.backendEndpoint}/static/img/${o.item.username}/${o.item.name}/${o.item.image}`,alt:"Sale"},null,8,ga)]),(0,s.Lk)("div",ha,[(0,s.Lk)("img",{class:"img-fluid",src:`${o.backendEndpoint}/static/img/${o.item.username}/${o.item.name}/${o.item.image}`,alt:"Sale"},null,8,fa)]),(0,s.Lk)("div",va,[(0,s.Lk)("img",{class:"img-fluid",src:`${o.backendEndpoint}/static/img/${o.item.username}/${o.item.name}/${o.item.image}`,alt:"Sale"},null,8,ka)]),(0,s.Lk)("div",ya,[(0,s.Lk)("img",{class:"img-fluid",src:`${o.backendEndpoint}/static/img/${o.item.username}/${o.item.name}/${o.item.image}`,alt:"Sale"},null,8,ba)])])],8,ca)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Ca,[(0,s.Lk)("div",La,[o.item?((0,s.uX)(),(0,s.CE)("div",xa," Category: "+(0,i.v_)(n.getCategoryNameById(o.item.category_id)),1)):(0,s.Q3)("",!0),o.item?((0,s.uX)(),(0,s.CE)("div",Ta,(0,i.v_)(n.truncateName(o.item.name,60)),1)):(0,s.Q3)("",!0),o.item?((0,s.uX)(),(0,s.CE)("div",wa,[(0,s.Lk)("p",Ea,[$a,(0,s.Lk)("span",_a,(0,i.v_)(n.formatPrice(o.item.discount_price).integerPart),1),(0,s.Lk)("span",Pa,"."+(0,i.v_)(n.formatPrice(o.item.discount_price).decimalPart),1)]),o.item.discount?((0,s.uX)(),(0,s.CE)("p",Aa,[(0,s.Lk)("del",Ia,"$"+(0,i.v_)(o.item.price),1),o.item.discount?((0,s.uX)(),(0,s.CE)("span",Fa," ")):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),o.item?((0,s.uX)(),(0,s.CE)("p",{key:3,style:{cursor:"pointer","margin-bottom":"1%"},onClick:e[0]||(e[0]=(...t)=>n.scrollToTarget&&n.scrollToTarget(...t))},[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,(t=>(0,s.Lk)("span",{key:t,class:(0,i.C4)(n.getStarClasses(t,o.item.rating_float))},null,2))),64)),(0,s.Lk)("span",{class:"overall-rating",style:{"font-size":"0.9rem !important"},id:"overall-rating"+o.item.id+"-float"}," "+(0,i.v_)(o.item.rating_float),9,Ma),(0,s.Lk)("span",{id:"overall-rating"+o.item.id,style:{"font-size":"0.9rem"}}," ("+(0,i.v_)(o.item.reviewNumber)+") Review's ",9,Sa)])):(0,s.Q3)("",!0),(0,s.Lk)("div",Ra,[(0,s.Lk)("div",Da,[(0,s.Lk)("a",{onClick:e[1]||(e[1]=t=>n.addTofavorites(o.item)),class:"shadow btn custom-btn"},"Favorites")]),(0,s.Lk)("div",za,[(0,s.Lk)("button",{class:"shadow btn custom-btn",onClick:e[2]||(e[2]=t=>n.addToCart(o.item)),ref:"addToCartButton"}," Add to cart ",512)])])]),o.item?((0,s.uX)(),(0,s.CE)("div",Xa,[Na,(0,s.Lk)("p",Oa,(0,i.v_)(o.item.description),1)])):(0,s.Q3)("",!0),Ba])])]),Ua,Qa,(0,s.bF)(c),(0,s.Lk)("div",ja,[(0,s.Lk)("ul",Va,[(0,s.Lk)("li",qa,[(0,s.Lk)("a",{class:(0,i.C4)(["nav-link",{active:"reviews"===o.activeTab}]),onClick:e[3]||(e[3]=t=>n.switchTab("reviews"))}," Reviews ("+(0,i.v_)(o.reviewsData.length)+") ",3)]),(0,s.Lk)("li",Ha,[(0,s.Lk)("a",{class:(0,i.C4)(["nav-link",{active:"specification"===o.activeTab}]),onClick:e[4]||(e[4]=t=>n.switchTab("specification"))}," Specification ",2)])])]),(0,s.Lk)("div",Ka,[(0,s.Lk)("div",null,["reviews"===o.activeTab?((0,s.uX)(),(0,s.CE)("div",{class:(0,i.C4)(["tab-pane",{active:"reviews"===o.activeTab}]),key:"reviews_"+o.activeTab,id:"reviews",style:{"justify-content":"center","align-items":"center"}},[(0,s.Lk)("nav",Ga,[(0,s.Lk)("ul",Wa,[(0,s.Lk)("li",{class:(0,i.C4)(["page-item",{disabled:1===o.currentPage}])},[(0,s.Lk)("button",{class:"page-link",onClick:e[5]||(e[5]=(...t)=>n.prevPage&&n.prevPage(...t)),disabled:1===o.currentPage}," Prev ",8,Ya)],2),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.pages,(t=>((0,s.uX)(),(0,s.CE)("li",{class:(0,i.C4)(["page-item",{active:o.currentPage===t}]),key:t},[(0,s.Lk)("button",{class:"page-link",onClick:e=>n.setCurrentPage(t)},(0,i.v_)(t),9,Ja)],2)))),128)),(0,s.Lk)("li",{class:(0,i.C4)(["page-item",{disabled:o.currentPage===n.totalPages}])},[(0,s.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=(...t)=>n.nextPage&&n.nextPage(...t)),disabled:o.currentPage===n.totalPages}," Next ",8,Za)],2)])]),o.item?((0,s.uX)(),(0,s.CE)("div",tr,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.displayedReviews,(t=>((0,s.uX)(),(0,s.CE)("div",{class:"cardgroup1",key:t.id,id:"card"+t.id,style:{width:"55%","margin-bottom":"5px",border:"1px solid #ccc",padding:"2px",display:"flex","justify-content":"left"}},[(0,s.Lk)("div",ar,[a.profile?((0,s.uX)(),(0,s.CE)("img",{key:0,src:`${o.backendEndpoint}/static/img/${n.user}/profile/${a.profile.avatar}`,width:"50",height:"50",class:"rounded-circle"},null,8,rr)):((0,s.uX)(),(0,s.CE)("img",{key:1,src:`${o.backendEndpoint}/static/img/img_avatar.png`,width:"50",height:"50",class:"rounded-circle"},null,8,sr)),(0,s.Lk)("div",ir,[(0,s.Lk)("span",null,(0,i.v_)(t.created_by),1),or,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.updateStarRatings(t),(t=>((0,s.uX)(),(0,s.CE)("span",{class:(0,i.C4)(["fa fa-star",{checked:t.checked}]),id:t.id,key:t.id},null,10,nr)))),128))])]),(0,s.Lk)("div",lr,[(0,s.Lk)("p",null,(0,i.v_)(t.text),1)])],8,er)))),128)),n.userHasWrittenReview()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",cr,[(0,s.Lk)("div",dr,[(0,s.Lk)("div",ur,[pr,(0,s.Lk)("div",mr,[(0,s.Lk)("textarea",gr,null,512),(0,s.Lk)("div",hr,[(0,s.Lk)("div",fr,[(0,s.Lk)("div",vr,[(0,s.Lk)("div",kr,[(0,s.Lk)("button",{class:"btn btn-secondary btn-sm",id:"RatingCancel",onClick:e[7]||(e[7]=(...e)=>t.RatingHide&&t.RatingHide(...e))}," Cancel ")])]),(0,s.Lk)("div",yr,[(0,s.Lk)("div",br,[(0,s.Lk)("button",{class:"btn btn-success send btn-sm",onClick:e[8]||(e[8]=(...t)=>n.addReview&&n.addReview(...t))}," Submit ")])])])])])])])]))])):((0,s.uX)(),(0,s.CE)("div",Cr,xr))],2)):(0,s.Q3)("",!0)]),"specification"===o.activeTab?((0,s.uX)(),(0,s.CE)("div",{class:(0,i.C4)(["tab-pane",{active:"specification"===o.activeTab}]),key:"specification_"+o.activeTab,id:"specification",style:{"text-align":"center","align-items":"center","margin-left":"30%","margin-right":"30%"}},[o.item?((0,s.uX)(),(0,s.CE)("p",Tr,(0,i.v_)(o.item.description),1)):((0,s.uX)(),(0,s.CE)("p",wr,"No specification available."))],2)):(0,s.Q3)("",!0)]),(0,s.bF)(d),Er])}var _r=a(6587),Pr=a.n(_r);const Ar={class:"container-fluid",style:{width:"100vw",position:"sticky",margin:"0",padding:"0","align-items":"center","text-align":"center"}},Ir=(0,s.Lk)("div",{class:"toast",id:"cartToast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false",style:{position:"fixed",top:"11%",right:"0",transform:"translate(0, -50%)",width:"250px","z-index":"1000"}},[(0,s.Lk)("div",{class:"toast-body",id:"cartToastBody",style:{"font-weight":"900",font:"1.1em"}})],-1),Fr={class:"container",style:{"margin-top":"2%"}},Mr={class:"container",style:{"font-size":"1em","text-align":"left","margin-bottom":"1%"}},Sr=(0,s.Lk)("b",null,"Laptops",-1),Rr=[Sr],Dr={class:"container",style:{"font-size":"1em","text-align":"left","margin-bottom":"1%"}},zr=(0,s.Lk)("b",null,"Tablets",-1),Xr=[zr],Nr={class:"container",style:{"font-size":"1em","text-align":"left","margin-bottom":"1%"}},Or=(0,s.Lk)("b",null,"Smartphones",-1),Br=[Or],Ur={class:"container",style:{"font-size":"1em","text-align":"left","margin-bottom":"1%"}},Qr=(0,s.Lk)("b",null,"Smartwatches",-1),jr=[Qr],Vr={class:"container",style:{"font-size":"1em","text-align":"left","margin-bottom":"1%"}},qr=(0,s.Lk)("b",null,"TV's",-1),Hr=[qr];function Kr(t,e,a,r,i,o){const n=(0,s.g2)("carousel");return(0,s.uX)(),(0,s.CE)("div",Ar,[Ir,(0,s.Lk)("div",Fr,[(0,s.Lk)("div",Mr,[(0,s.Lk)("a",{class:"link",onClick:e[0]||(e[0]=t=>o.redirectToCategory("Laptops"))},Rr)]),(0,s.bF)(n,{products:o.groupedlaptops,carouselId:"laptop-products-carousel"},null,8,["products"]),(0,s.Lk)("div",Dr,[(0,s.Lk)("a",{class:"link",onClick:e[1]||(e[1]=t=>o.redirectToCategory("Tablets"))},Xr)]),(0,s.bF)(n,{products:o.groupedTablets,carouselId:"tablets-products-carousel"},null,8,["products"]),(0,s.Lk)("div",Nr,[(0,s.Lk)("a",{class:"link",onClick:e[2]||(e[2]=t=>o.redirectToCategory("Smartphones"))},Br)]),(0,s.bF)(n,{products:o.groupedSmartphones,carouselId:"smartphones-products-carousel"},null,8,["products"]),(0,s.Lk)("div",Ur,[(0,s.Lk)("a",{class:"link",onClick:e[3]||(e[3]=t=>o.redirectToCategory("Smartwatches"))},jr)]),(0,s.bF)(n,{products:o.groupedSmartwatches,carouselId:"smartwatches-products-carousel"},null,8,["products"]),(0,s.Lk)("div",Vr,[(0,s.Lk)("a",{class:"link",onClick:e[4]||(e[4]=t=>o.redirectToCategory("TV"))},Hr)]),(0,s.bF)(n,{products:o.groupedTV,carouselId:"tv-products-carousel"},null,8,["products"])])])}const Gr=t=>((0,s.Qi)("data-v-3488d670"),t=t(),(0,s.jt)(),t),Wr=["id"],Yr={class:"carousel-inner"},Jr={class:"row"},Zr=["product"],ts={class:"card-small"},es={class:"card-body"},as={key:0,class:"badge bg-danger position-absolute top-0 start-5",style:{"font-size":"0.8em",margin:"1%"}},rs=["onClick"],ss=["src","onClick"],is=["onClick"],os=["onClick"],ns=["id"],ls=["id"],cs={style:{"justify-content":"space-between"}},ds={class:"discount-price",style:{"font-size":"0.9em",color:"#dc3545","font-weight":"700","margin-bottom":"10px","padding-right":"4%"}},us=Gr((()=>(0,s.Lk)("span",{style:{"font-size":"0.9rem"}},"$",-1))),ps={style:{"font-size":"0.9rem"}},ms={style:{"font-size":"0.7em",position:"relative",top:"-0.4em"}},gs=["onClick"],hs=Gr((()=>(0,s.Lk)("i",{class:"bi bi-cart-fill"},null,-1))),fs=[hs],vs=["id","data-bs-target"],ks=Gr((()=>(0,s.Lk)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1))),ys=Gr((()=>(0,s.Lk)("span",{class:"visually-hidden"},"Prev",-1))),bs=[ks,ys],Cs=["id","data-bs-target"],Ls=Gr((()=>(0,s.Lk)("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1))),xs=Gr((()=>(0,s.Lk)("span",{class:"visually-hidden"},"Next",-1))),Ts=[Ls,xs],ws={class:"carousel-indicators",style:{"margin-bottom":"0"}},Es=["data-bs-target","data-bs-slide-to"];function $s(t,e,a,r,o,n){return(0,s.uX)(),(0,s.CE)("div",{id:a.carouselId,class:"carousel slide"},[(0,s.Lk)("div",Yr,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.products,((t,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,i.C4)({"carousel-item":!0,active:0===e})},[(0,s.Lk)("div",Jr,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t,(t=>((0,s.uX)(),(0,s.CE)("div",{class:"col-sm-2",key:t.id,product:t,style:{padding:"0","margin-bottom":"20px"}},[(0,s.Lk)("div",ts,[(0,s.Lk)("div",es,[t.discount>=.01?((0,s.uX)(),(0,s.CE)("span",as," -"+(0,i.v_)(Math.floor(100*t.discount))+"% ",1)):(0,s.Q3)("",!0),(0,s.Lk)("span",{onClick:e=>n.addTofavorites(t),class:(0,i.C4)(n.getHeartClasses(t)),style:{position:"absolute",top:"1%",right:"10%","font-weight":"900","font-size":"1.2em",cursor:"pointer"}},null,10,rs),(0,s.Lk)("img",{src:`${o.backendEndpoint}/static/img/${t.username}/${t.name}/${t.image}`,class:"card-img-top",onClick:e=>n.redirectToItemFromProduct(t.id),style:{cursor:"pointer","margin-bottom":"10px"}},null,8,ss),(0,s.Lk)("p",{class:"card-text",onClick:e=>n.redirectToItemFromProduct(t.id),style:{"font-size":"0.9em","margin-bottom":"10px","margin-left":"12px",cursor:"pointer"}},[(0,s.Lk)("b",null,(0,i.v_)(n.truncateName(t.name,35)),1)],8,is),(0,s.Lk)("p",{style:{cursor:"pointer","margin-bottom":"10px"},onClick:e=>n.redirectToItemFromProduct(t.id)},[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,(e=>(0,s.Lk)("span",{key:e,class:(0,i.C4)(n.getStarClasses(e,t.rating_float)),style:{"margin-right":"2px","font-size":"0.9rem"}},null,2))),64)),(0,s.Lk)("span",{id:"overall-rating"+t.id+"-float",class:"overall-rating",style:{"font-size":"0.85em !important"}},"  "+(0,i.v_)(parseFloat(t.rating_float).toFixed(2)),9,ns),(0,s.Lk)("span",{id:"overall-rating"+t.id,class:"overall-rating2",style:{"font-size":"0.8rem","font-familly":"sans-serif"}}," ("+(0,i.v_)(t.review_number)+") ",9,ls)],8,os),(0,s.Lk)("div",cs,[(0,s.Lk)("span",ds,[us,(0,s.Lk)("span",ps,(0,i.v_)(n.formatPrice(t.discount_price).integerPart),1),(0,s.Lk)("span",ms,"."+(0,i.v_)(n.formatPrice(t.discount_price).decimalPart),1)]),(0,s.Lk)("button",{type:"button",ref_for:!0,ref:"addToCartButton",onClick:e=>n.addToCart(t),class:"btn btn-outline-primary btn-sm m-0",style:{"margin-bottom":"10px"}},fs,8,gs)])])])],8,Zr)))),128))])],2)))),128))]),(0,s.Lk)("button",{class:"carousel-control-prev",id:a.carouselId+"-control-prev",type:"button","data-bs-target":a.carouselId,"data-bs-slide":"prev",style:{"margin-left":"-130px",height:"50px","margin-top":"6%"}},bs,8,vs),(0,s.Lk)("button",{class:"carousel-control-next",id:a.carouselId+"-control-next",type:"button","data-bs-target":a.carouselId,"data-bs-slide":"next",style:{"margin-right":"-135px",height:"50px","margin-top":"6%"}},Ts,8,Cs),(0,s.Lk)("ol",ws,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.products,((t,e)=>((0,s.uX)(),(0,s.CE)("li",{key:e,"data-bs-target":"#"+a.carouselId,"data-bs-slide-to":e,class:(0,i.C4)({active:0===e}),style:{"background-color":"rgb(214, 209, 209)"}},null,10,Es)))),128))])],8,Wr)}var _s={props:{products:Array,carouselId:String},data(){return{backendEndpoint:`${Ft.A.backendEndpoint}`}},created(){Promise.all([this.$store.dispatch("getProducts"),this.$store.dispatch("checkFavoritesOnLoad")])},computed:{errorMessage(){return this.$store.state.errorMessage},total(){return this.$store.getters.total},user(){return this.$store.getters.user},user_id(){return this.$store.getters.user_id},ratings(){return this.$store.getters.ratings},cart(){return this.$store.state.cart},favorites(){return this.$store.state.favorites}},methods:{formatPrice(t){if(null!==t||void 0!==t){const[e,a]=t.toFixed(2).split("."),r=e.replace(/\B(?=(\d{3})+(?!\d))/g,"."),s=a||"00";return{integerPart:r,decimalPart:s}}},getStarClasses(t,e){const a=Math.floor(e);return t<=a?"fa fa-star checked":t===a+1&&e%1!==0?"fa fa-star-half-full checked":"fa fa-star-o checked"},isFavorite(t){return this.$store.state.favorites.some((e=>e.id===t.id))},getHeartClasses(t){const e=this.isFavorite(t);return e?"fa fa-heart red-color":"fa fa-heart-o"},addToCart(t){this.$store.dispatch("addToCart",t)},addTofavorites(t){this.$store.dispatch("addTofavorites",t)},truncateName(t,e){return t?t.length>e?t.substring(0,e)+"..":t:""},removeFromCart(t){this.$store.dispatch("removeFromCart",t)},redirectToItemFromCart(t){this.$store.dispatch("redirectToItem",t)},redirectToItemFromNavbar(t){this.$router.push({name:"Item",params:{itemId:t}})},redirectToItemFromProduct(t){this.$store.dispatch("redirectToItem",t)}}};const Ps=(0,St.A)(_s,[["render",$s],["__scopeId","data-v-3488d670"]]);var As=Ps,Is={components:{Carousel:As},props:["profile"],data(){return{backendEndpoint:`${Ft.A.backendEndpoint}`}},mounted(){const t=document.querySelectorAll(".carousel");t.forEach((t=>{const e=t.id,a=new bootstrap.Carousel(t,{interval:!1}),r=document.getElementById(`${e}-control-prev`),s=document.getElementById(`${e}-control-next`);r.addEventListener("click",(function(){a.next()})),s.addEventListener("click",(function(){a.prev()}))}))},created(){this.$store.dispatch("checkFavoritesOnLoad")},computed:{groupedProducts(){const t=6,e=this.discountedProducts,a=[];if(e.length<=t)return a.push(e),a;for(let r=0;r<e.length;r+=t){const s=e.slice(r,r+t);if(r+t>=e.length&&s.length<t){const a=t-s.length,r=e.slice(0,a);s.push(...r)}a.push(s)}return a},groupedlaptops(){const t=6,e=this.filteredLaptops,a=[];if(e.length<=t)return a.push(e),a;for(let r=0;r<e.length;r+=t){const s=e.slice(r,r+t);if(r+t>=e.length&&s.length<t){const a=t-s.length,r=e.slice(0,a);s.push(...r)}a.push(s)}return a},groupedTablets(){const t=6,e=this.filteredTablets,a=[];if(e.length<=t)return a.push(e),a;for(let r=0;r<e.length;r+=t){const s=e.slice(r,r+t);if(r+t>=e.length&&s.length<t){const a=t-s.length,r=e.slice(0,a);s.push(...r)}a.push(s)}return a},groupedSmartwatches(){const t=6,e=this.filteredSmartwatches,a=[];if(e.length<=t)return a.push(e),a;for(let r=0;r<e.length;r+=t){const s=e.slice(r,r+t);if(r+t>=e.length&&s.length<t){const a=t-s.length,r=e.slice(0,a);s.push(...r)}a.push(s)}return a},groupedSmartphones(){const t=6,e=this.filteredSmartphones,a=[];if(e.length<=t)return a.push(e),a;for(let r=0;r<e.length;r+=t){const s=e.slice(r,r+t);if(r+t>=e.length&&s.length<t){const a=t-s.length,r=e.slice(0,a);s.push(...r)}a.push(s)}return a},groupedTV(){const t=6,e=this.filteredTV,a=[];if(e.length<=t)return a.push(e),a;for(let r=0;r<e.length;r+=t){const s=e.slice(r,r+t);if(r+t>=e.length&&s.length<t){const a=t-s.length,r=e.slice(0,a);s.push(...r)}a.push(s)}return a},discountedProducts(){return this.$store.getters.filteredProducts.filter((t=>t.discount>0))},filteredLaptops(){return this.products.filter((t=>1===t.category_id))},products(){return this.$store.getters.products},filteredTablets(){return this.products.filter((t=>3===t.category_id))},filteredSmartphones(){return this.products.filter((t=>2===t.category_id))},filteredSmartwatches(){return this.products.filter((t=>4===t.category_id))},filteredTV(){return this.products.filter((t=>5===t.category_id))},errorMessage(){return this.$store.state.errorMessage},total(){return this.$store.getters.total},user(){return this.$store.getters.user},user_id(){return this.$store.getters.user_id},ratings(){return this.$store.getters.ratings},cart(){return this.$store.state.cart},favorites(){return this.$store.state.favorites},isFavorite(t){return this.$store.state.favorites.some((e=>e.id===t.id))},getHeartClasses(t){const e=this.isFavorite(t);return e?"fa fa-heart red-color":"fa fa-heart-o"}},methods:{redirectToCategory(t){this.$router.push({name:"category",params:{category:t}}),document.body.scrollIntoView({behavior:"auto"})},addToCart(t){this.$store.dispatch("addToCart",t)},truncateName(t,e){return t?t.length>e?t.substring(0,e)+"..":t:""},removeFromCart(t){this.$store.dispatch("removeFromCart",t)},redirectToItemFromCart(t){this.$store.dispatch("redirectToItem",t)},redirectToItemFromNavbar(t){this.$router.push({name:"Item",params:{itemId:t}})},redirectToItemFromProduct(t){this.$store.dispatch("redirectToItem",t)}}};const Fs=(0,St.A)(Is,[["render",Kr]]);var Ms=Fs,Ss={components:{NavBar:zt.A,MessageArea:Ms,Footer:Xt.A},mixins:[It.A],props:["cart","profile","favorites"],emits:["addToCart","redirectToItem"],data(){return{item:this.item,itemId:this.itemId,reviewsData:[],activeTab:"reviews",currentPage:1,reviewsPerPage:2,backendEndpoint:`${Ft.A.backendEndpoint}`}},beforeRouteUpdate(t,e,a){this.getProduct(t.params.itemId),this.setReviewsRating(t.params.itemId),a()},created(){this.getProduct(),this.$store.dispatch("fetchCategories"),this.setReviewsRating(this.itemId),this.$store.dispatch("getProfile"),this.$store.dispatch("getProfiles")},mounted(){const t=document.querySelectorAll(".carousel");t.forEach((t=>{const e=t.id,a=new bootstrap.Carousel(t,{interval:!1}),r=document.getElementById(`${e}-control-prev`),s=document.getElementById(`${e}-control-next`);r.addEventListener("click",(function(){a.next()})),s.addEventListener("click",(function(){a.prev()}))}))},computed:{errorMessage(){return this.$store.state.errorMessage},user(){return this.$store.state.user},user_id(){return this.$store.state.user_id},total(){return this.$store.getters.total},profiles(){return this.$store.state.profiles},accessToken(){return this.$store.state.accessToken},categories(){return this.$store.getters.categories},totalPages(){return Math.ceil(this.reviewsData.length/this.reviewsPerPage)},pages(){return Array.from({length:this.totalPages},((t,e)=>e+1))},displayedReviews(){const t=(this.currentPage-1)*this.reviewsPerPage,e=t+this.reviewsPerPage;return this.reviewsData.slice(t,e)}},methods:{truncateName(t,e){if(!t)return"";if(t.length>e){const a=t.substring(0,e),r=t.substring(e),s=r.indexOf(" ");if(-1!==s){const t=r.substring(0,s);return`${a}\n${t}`}return`${a}..`}return t},formatPrice(t){if(null!==t||void 0!==t){const[e,a]=t.toFixed(2).split("."),r=e.replace(/\B(?=(\d{3})+(?!\d))/g,"."),s=a||"00";return{integerPart:r,decimalPart:s}}},async getProduct(t){try{const e=t||this.$route.params.itemId,a=await fetch(`${Ft.A.backendEndpoint}/api/items/item/${e}`);if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);const r=await a.json();this.item=r,this.$nextTick((()=>{this.getItemRating(r.id)})),this.scrollToTop()}catch(e){this.$router.push({name:"NotFound"})}},async getItemRating(t){try{const e=await fetch(`${Ft.A.backendEndpoint}/api/reviews/item/rating?id=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const a=await e.json();this.item.rating=a.rating,this.item.rating_float=parseFloat(a.rating_float).toFixed(2),this.item.reviewNumber=a.review_number,this.$store.dispatch("updateItemRating",{itemId:t,rating:a})}catch(e){}},addToCart(t){this.$store.dispatch("addToCart",t)},redirectToItem(t){this.$store.dispatch("redirectToItem",t)},itemAlreadyInCart(t){return this.cart.some((e=>e.id===t.id))},async setReviewsRating(t){try{const e=t||this.$route.params.itemId,a=await fetch(`${Ft.A.backendEndpoint}/api/reviews?item_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json",redirect:"follow"}});if(a.ok){const t=await a.json();this.reviewsData=t}else if(404!==a.status)throw new Error(`Error: ${a.status} - ${a.statusText}`)}catch(e){}},updateStarRatings(t){return Array.from({length:5},((t,e)=>e+1)).map((e=>({id:`star${t.id}${e}`,checked:e<=t.rating})))},getStarClasses(t,e){let a=parseFloat(e),r=Math.floor(a);return t<=r?"fa fa-star checked":t===r+1&&e%1!==0?"fa fa-star-half-full checked":"fa fa-star-o checked"},addReview(){const t=this.$refs.commentArea.value,e=document.querySelector('input[name="rating"]:checked');if(!t||!e){const t="Please Write a review and select a rating",e=new bootstrap.Toast(document.getElementById("cartToast2"),{delay:2e3}),a=document.getElementById("cartToastBody2");return a.innerText=t,void e.show()}const a=this.item.id,r=this.$store.state.user,s=e.value||0,i={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.$store.state.accessToken}`},body:JSON.stringify({text:t,item_id:a,rating:s,created_by:r})};fetch(`${Ft.A.backendEndpoint}/create_review_ajax`,i).then((t=>t.ok||403!==t.status?t.json():(Pr()("#comment-area").val("You can write only one review for this item"),Promise.reject("403 Forbidden")))).then((t=>{this.reviewsData.push(t),this.getItemRating(a),this.setReviewsRating(a)})).catch((t=>{throw t}))},userHasWrittenReview(){return this.reviewsData&&this.reviewsData.some((t=>t.created_by===this.user))},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},setCurrentPage(t){this.currentPage=t},scrollToTarget(){var t=document.getElementById("reviews");t&&t.scrollIntoView({behavior:"auto"})},scrollToTop(){window.scrollTo({top:0,behavior:"auto"})},switchTab(t){const e=window.scrollY||window.pageYOffset;this.activeTab=t,this.$nextTick((()=>{window.scrollTo(0,e)}))},addTofavorites(t){this.$store.dispatch("addTofavorites",t)},getCategoryNameById(t){const e={1:"Laptops",2:"Smartphones",3:"Tablets",4:"Smartwatches",5:"TV"};return e[t]}}};const Rs=(0,St.A)(Ss,[["render",$r],["__scopeId","data-v-51a55618"]]);var Ds=Rs;const zs={class:"container-fluid",style:{width:"100vw",position:"sticky",margin:"0",padding:"0","align-items":"center","text-align":"center"}},Xs={class:"navbar navbar-expand-lg bg-white sticky-top navbar-light shadow-lg",style:{height:"4em","margin-left":"0","margin-right":"0","align-items":"center","text-align":"center"}},Ns={class:"container-fluid mt-5",style:{"margin-left":"10%"}},Os={class:"row",style:{display:"flex","-ms-flex-wrap":"wrap","flex-wrap":"wrap",margin:"0 -16px"}},Bs={class:"text-center mb-4"},Us={key:0,style:{"margin-right":"19%","margin-bottom":"3%"}},Qs=(0,s.Lk)("i",{class:"fa fa-search",style:{"font-size":"1.2rem"}},null,-1),js={key:1,style:{"align-items":"center","margin-right":"25%"}},Vs=["src"],qs={class:"col-md-8",style:{"max-width":"1200px","margin-left":"3%"}},Hs={class:"table table-hover"},Ks={style:{"padding-top":"1%"}},Gs=["src","onClick"],Ws={style:{cursor:"pointer","padding-top":"1%","text-align":"center"}},Ys=["onClick"],Js=["onClick"],Zs={style:{cursor:"pointer"}},ti=["id"],ei=["id"],ai=["onClick"],ri=(0,s.Lk)("i",{class:"bi bi-cart-fill",style:{"font-size":"1rem"}},null,-1),si={style:{"padding-top":"5.3%","padding-right":"10px"}},ii=(0,s.Lk)("span",{style:{"font-size":"1.1rem"}},"$",-1),oi={style:{"font-size":"1.1rem"}},ni={style:{"font-size":"0.8em",position:"relative",top:"-0.4em"}},li=(0,s.Lk)("div",{class:"toast",id:"cartToast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false",style:{position:"fixed",top:"12%",right:"5%",transform:"translate(0, -50%)",width:"250px","z-index":"1000"}},[(0,s.Lk)("div",{class:"toast-body",id:"cartToastBody",style:{"font-weight":"900",font:"1.1em"}})],-1);function ci(t,e,r,o,n,l){const c=(0,s.g2)("NavBar"),d=(0,s.g2)("Footer");return(0,s.uX)(),(0,s.CE)("div",zs,[(0,s.Lk)("nav",Xs,[(0,s.bF)(c,{cart:r.cart,total:l.total,user:l.user,profile:r.profile,favorites:r.favorites},null,8,["cart","total","user","profile","favorites"])]),(0,s.Lk)("div",Ns,[(0,s.Lk)("div",Os,[(0,s.Lk)("div",null,[(0,s.Lk)("h3",Bs,[l.message?((0,s.uX)(),(0,s.CE)("h6",Us,[Qs,(0,s.eW)(" "+(0,i.v_)(l.message),1)])):((0,s.uX)(),(0,s.CE)("div",js,[(0,s.Lk)("img",{src:a(6634)},null,8,Vs)]))])]),(0,s.Lk)("div",qs,[(0,s.Lk)("table",Hs,[(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.searchResults,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.id},[(0,s.Lk)("td",Ks,[(0,s.Lk)("img",{src:`${n.backendEndpoint}/static/img/${t.username}/${t.name}/${t.image}`,class:"img-fluid",alt:"Product Image",style:{"max-width":"270px",height:"200px","object-fit":"cover",cursor:"pointer"},onClick:e=>l.redirectToItemFromCart(t.id)},null,8,Gs)]),(0,s.Lk)("td",Ws,[(0,s.Lk)("h6",{onClick:e=>l.redirectToItemFromCart(t.id)},(0,i.v_)(l.truncateName(t.name,45)),9,Ys),(0,s.Lk)("p",{onClick:e=>l.redirectToItemFromCart(t.id),style:{"font-size":"0.95em","padding-top":"3%","padding-right":"10%","padding-left":"10%","padding-bottom":"0"}},(0,i.v_)(l.truncateName(t.description,200)),9,Js),(0,s.Lk)("p",Zs,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,(e=>(0,s.Lk)("span",{key:e,class:(0,i.C4)(l.getStarClasses(e,t.rating_float))},null,2))),64)),(0,s.Lk)("span",{id:"overall-rating"+t.id+"-float",class:"overall-rating",style:{"font-size":"0.9rem !important"}}," "+(0,i.v_)(parseFloat(t.rating_float).toFixed(2)),9,ti),(0,s.Lk)("span",{id:"overall-rating"+t.id,class:"overall-rating2",style:{"font-size":"0.9rem !important"}}," ("+(0,i.v_)(t.review_number)+") ",9,ei)]),(0,s.Lk)("button",{class:"btn btn-secondary",ref_for:!0,ref:"addToCartButton",onClick:e=>l.addToCart(t),style:{"margin-top":"10px"}},[(0,s.eW)(" Add to Cart "),ri],8,ai)]),(0,s.Lk)("td",si,[ii,(0,s.Lk)("span",oi,(0,i.v_)(l.formatPrice(t.discount_price).integerPart),1),(0,s.Lk)("span",ni,"."+(0,i.v_)(l.formatPrice(t.discount_price).decimalPart),1)])])))),128))])])])])]),li,(0,s.bF)(d)])}var di={components:{NavBar:zt.A,Footer:Xt.A},props:["profile","cart","favorites"],data(){return{backendEndpoint:`${Ft.A.backendEndpoint}`}},mixins:[It.A],created(){this.$store.dispatch("fetchCategories")},computed:{message(){return this.$store.state.message},errorMessage(){return this.$store.state.errorMessage},total(){return this.$store.getters.total},user(){return this.$store.getters.user},accessToken(){return this.$store.getters.accessToken},searchResults(){return this.$store.state.searchResults},categories(){return this.$store.getters.categories}},methods:{formatPrice(t){if(null!==t||void 0!==t){const[e,a]=t.toFixed(2).split("."),r=e.replace(/\B(?=(\d{3})+(?!\d))/g,"."),s=a||"00";return{integerPart:r,decimalPart:s}}},getStarClasses(t,e){const a=Math.floor(e);return t<=a?"fa fa-star checked":t===a+1&&e%1!==0?"fa fa-star-half-full checked":"fa fa-star-o checked"},itemAlreadyInCart(t){return this.cart.some((e=>e.id===t.id))},addToCart(t){this.$store.dispatch("addToCart",t)},removeFromCart(t){this.$store.dispatch("removeFromCart",t)},redirectToItemFromCart(t){this.$store.dispatch("redirectToItem",t)},truncateName(t,e){return t.length>e?t.substring(0,e)+"..":t}}};const ui=(0,St.A)(di,[["render",ci]]);var pi=ui;const mi=t=>((0,s.Qi)("data-v-041c7326"),t=t(),(0,s.jt)(),t),gi={class:"container-fluid",style:{width:"100vw",position:"sticky",margin:"0",padding:"0","align-items":"center","text-align":"center"}},hi={class:"navbar navbar-expand-lg bg-white sticky-top navbar-light shadow-lg",style:{height:"4em","margin-left":"0","margin-right":"0","align-items":"center","text-align":"center"}},fi={class:"container-fluid mt-5",style:{"margin-left":"15%"}},vi={class:"row",style:{display:"flex","-ms-flex-wrap":"wrap","flex-wrap":"wrap",margin:"0 -16px"}},ki={class:"col-md-8",style:{"max-width":"1200px"}},yi=mi((()=>(0,s.Lk)("h3",{class:"text-center mb-4",style:{"margin-right":"3%"}},[(0,s.Lk)("i",{class:"bi bi-cart-fill",style:{"font-size":"1.6rem"}}),(0,s.eW)(" Shopping Cart ")],-1))),bi={class:"table table-hover"},Ci=mi((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",{style:{height:"auto"}},[(0,s.Lk)("th",{scope:"col"}),(0,s.Lk)("th",{scope:"col",style:{"padding-left":"25%"}},"Product"),(0,s.Lk)("th",{scope:"col"},"Price"),(0,s.Lk)("th",{scope:"col"},"Quantity"),(0,s.Lk)("th",{scope:"col"},"Actions")])],-1))),Li=["src"],xi=["onClick"],Ti={style:{width:"100px"}},wi=mi((()=>(0,s.Lk)("span",{style:{"font-size":"1rem"}},"$",-1))),Ei={style:{"font-size":"1rem"}},$i={style:{"font-size":"0.7em",position:"relative",top:"-0.4em"}},_i={class:"align-left text-left"},Pi={class:"input-group",style:{"max-width":"100px","margin-left":"55px",padding:"0"}},Ai=["onClick"],Ii=["value"],Fi=["onClick"],Mi=["onClick"],Si=mi((()=>(0,s.Lk)("i",{class:"bi bi-trash"},null,-1))),Ri=[Si],Di=mi((()=>(0,s.Lk)("span",{style:{"font-size":"1.3rem"}},"$",-1))),zi={style:{"font-size":"1.3rem"}},Xi={style:{"font-size":"0.8rem",position:"relative",top:"-0.6em"}},Ni=mi((()=>(0,s.Lk)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal"}," Proceed to Payment ",-1))),Oi=mi((()=>(0,s.Lk)("div",{class:"delivery my-4"},[(0,s.Lk)("p",{class:"font-weight-bold mb-0"},[(0,s.Lk)("span",null,[(0,s.Lk)("i",{class:"fa-solid fa-truck"})]),(0,s.Lk)("b",null," Delivery done in 3 days from date of purchase")]),(0,s.Lk)("p",{class:"text-secondary"},"Order now to get this product delivery")],-1))),Bi={class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-backdrop":"false"},Ui={class:"modal-dialog",role:"document",style:{width:"628px"}},Qi={class:"modal-content",style:{width:"628px"}},ji=mi((()=>(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"Payment Details"),(0,s.Lk)("button",{type:"button",class:"close",id:"close-modal","data-dismiss":"modal","aria-label":"Close"},[(0,s.Lk)("span",{"aria-hidden":"true"},"×")])],-1))),Vi={class:"modal-body",style:{width:"628px"}},qi={class:"row"},Hi={class:"col-75"},Ki={class:"col-25",style:{padding:"0"}},Gi={class:"container"},Wi={style:{color:"black"}},Yi=mi((()=>(0,s.Lk)("i",{class:"fa fa-shopping-cart"},null,-1))),Ji={style:{width:"100%"}},Zi=["src"],to={class:"align-left text-left"},eo={class:"input-group",style:{"max-width":"120px",margin:"auto","max-height":"40px"}},ao=["onClick"],ro=["value"],so=["onClick"],io=["onClick"],oo={style:{cursor:"pointer",margin:"15px","font-size":"14px"}},no={style:{width:"100px"}},lo=mi((()=>(0,s.Lk)("span",{style:{"font-size":"0.9rem"}},"$",-1))),co={style:{"font-size":"0.9rem"}},uo={style:{"font-size":"0.6em",position:"relative",top:"-0.4em"}},po=["onClick"],mo=mi((()=>(0,s.Lk)("i",{class:"bi bi-trash"},null,-1))),go=[mo],ho=mi((()=>(0,s.Lk)("hr",null,null,-1))),fo={style:{width:"100%","white-space":"nowrap","align-items":"right",overflow:"hidden"}},vo={class:"text-end mt-4"},ko={style:{width:"150px","margin-left":"60%","margin-right":"5%"}},yo=mi((()=>(0,s.Lk)("span",{style:{"font-size":"1.3rem"}},"$",-1))),bo={style:{"font-size":"1.3rem"}},Co={style:{"font-size":"0.8rem",position:"relative",top:"-0.6em"}},Lo=mi((()=>(0,s.Lk)("hr",null,null,-1))),xo={class:"container"},To={id:"paymentForm",enctype:"multipart/form-data","data-toggle":"validator"},wo=(0,s.Fv)('<div class="row" data-v-041c7326><div class="col-50" data-v-041c7326><h3 data-v-041c7326>Shipping Address</h3><label for="fname" data-v-041c7326><i class="fa fa-user" data-v-041c7326></i> Full Name</label><input type="text" id="fname" name="firstname" placeholder="John M. Doe" data-v-041c7326><label for="email" data-v-041c7326><i class="fa fa-envelope" data-v-041c7326></i> Email</label><input type="text" id="email" name="email" placeholder="john@example.com" data-v-041c7326><label for="adr" data-v-041c7326><i class="fa fa-address-card-o" data-v-041c7326></i> Address</label><input type="text" id="adr" name="address" placeholder="542 W. 15th Street" data-v-041c7326><label for="city" data-v-041c7326><i class="fa fa-institution" data-v-041c7326></i> City</label><input type="text" id="city" name="city" placeholder="New York" data-v-041c7326><div class="row" data-v-041c7326><div class="col-50" data-v-041c7326><label for="state" data-v-041c7326>Telephone</label><input type="text" id="state" name="state" placeholder="NY" data-v-041c7326></div><div class="col-50" data-v-041c7326><label for="zip" data-v-041c7326>Zip</label><input type="text" id="zip" name="zip" placeholder="10001" data-v-041c7326></div></div></div><div class="col-50" data-v-041c7326><h3 data-v-041c7326>Payment</h3><label for="fname" data-v-041c7326>Accepted Cards</label><div class="icon-container" data-v-041c7326><i class="fa fa-cc-visa" style="color:navy;" data-v-041c7326></i><i class="fa fa-cc-amex" style="color:blue;" data-v-041c7326></i><i class="fa fa-cc-mastercard" style="color:red;" data-v-041c7326></i><i class="fa fa-cc-discover" style="color:orange;" data-v-041c7326></i></div><label for="cname" data-v-041c7326>Name on Card</label><input type="text" id="cname" name="cardname" placeholder="John More Doe" data-v-041c7326><label for="ccnum" data-v-041c7326>Credit card number</label><input type="text" id="ccnum" name="cardnumber" placeholder="1111-2222-3333-4444" data-v-041c7326><label for="expmonth" data-v-041c7326>Exp Month</label><input type="text" id="expmonth" name="expmonth" placeholder="September" data-v-041c7326><div class="row" data-v-041c7326><div class="col-50" data-v-041c7326><label for="expyear" data-v-041c7326>Exp Year</label><input type="text" id="expyear" name="expyear" placeholder="2018" data-v-041c7326></div><div class="col-50" data-v-041c7326><label for="cvv" data-v-041c7326>CVV</label><input type="text" id="cvv" name="cvv" placeholder="352" data-v-041c7326></div></div></div></div>',1),Eo={class:"modal-footer",style:{"padding-right":"40%"}};function $o(t,e,a,r,o,n){const l=(0,s.g2)("NavBar"),c=(0,s.g2)("Footer");return(0,s.uX)(),(0,s.CE)("div",gi,[(0,s.Lk)("nav",hi,[(0,s.bF)(l,{cart:n.cart,total:n.total,user:n.user,profile:a.profile,favorites:n.favorites},null,8,["cart","total","user","profile","favorites"])]),(0,s.Lk)("div",fi,[(0,s.Lk)("div",vi,[(0,s.Lk)("div",ki,[yi,(0,s.Lk)("table",bi,[Ci,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.cart,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.id},[(0,s.Lk)("td",null,[(0,s.Lk)("img",{src:`${o.backendEndpoint}/static/img/${t.username}/${t.name}/${t.image}`,class:"img-fluid",alt:"Product Image",style:{"max-width":"50px","max-height":"50px"}},null,8,Li)]),(0,s.Lk)("td",{onClick:e=>n.redirectToItemFromCart(t.id),style:{cursor:"pointer"}},(0,i.v_)(t.name),9,xi),(0,s.Lk)("td",Ti,[wi,(0,s.Lk)("span",Ei,(0,i.v_)(n.formatPrice(t.discount_price).integerPart),1),(0,s.Lk)("span",$i,"."+(0,i.v_)(n.formatPrice(t.discount_price).decimalPart),1)]),(0,s.Lk)("td",_i,[(0,s.Lk)("div",Pi,[(0,s.Lk)("button",{class:"btn btn-outline-secondary btn-sm",style:{"font-size":"12px",width:"25px",height:"31px"},type:"button",onClick:e=>n.updateQuantity(t.id,t.quantity-1)}," - ",8,Ai),(0,s.Lk)("input",{type:"number",class:"form-control text-center align-middle",min:"1",max:"3",value:t.quantity,disabled:"",style:{"text-align":"center","font-size":"14px","max-width":"30px","max-height":"31px","padding-left":"8px"}},null,8,Ii),(0,s.Lk)("button",{class:"btn btn-outline-secondary btn-sm",style:{"font-size":"12px",width:"25px",height:"31px"},type:"button",onClick:e=>n.updateQuantity(t.id,t.quantity+1)}," + ",8,Fi)])]),(0,s.Lk)("td",null,[(0,s.Lk)("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:e=>n.removeFromCart(t.id)},Ri,8,Mi)])])))),128))])]),(0,s.Lk)("div",null,[(0,s.Lk)("h4",null,[Di,(0,s.Lk)("span",zi,(0,i.v_)(n.formatTotal(n.total).integerPart),1),(0,s.Lk)("span",Xi,"."+(0,i.v_)(n.formatTotal(n.total).decimalPart),1)]),Ni]),Oi])])]),(0,s.Lk)("div",Bi,[(0,s.Lk)("div",Ui,[(0,s.Lk)("div",Qi,[ji,(0,s.Lk)("div",Vi,[(0,s.Lk)("div",qi,[(0,s.Lk)("div",Hi,[(0,s.Lk)("div",Ki,[(0,s.Lk)("div",Gi,[(0,s.Lk)("h5",null,[(0,s.eW)(" Cart "),(0,s.Lk)("span",Wi,[Yi,(0,s.Lk)("b",null," "+(0,i.v_)(n.cart.length),1)])]),(0,s.Lk)("tbody",Ji,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.cart,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.id},[(0,s.Lk)("td",null,[(0,s.Lk)("img",{src:`${o.backendEndpoint}/static/img/${t.username}/${t.name}/${t.image}`,class:"img-fluid",alt:"Product Image",style:{"max-width":"50px","max-height":"35px",margin:"5px"}},null,8,Zi)]),(0,s.Lk)("td",to,[(0,s.Lk)("div",eo,[(0,s.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e=>n.updateQuantity(t.id,t.quantity-1)}," - ",8,ao),(0,s.Lk)("input",{type:"number",class:"form-control text-center",min:"1",max:"3",value:t.quantity,disabled:""},null,8,ro),(0,s.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e=>n.updateQuantity(t.id,t.quantity+1)}," + ",8,so)])]),(0,s.Lk)("td",{onClick:e=>n.redirectToItemFromCart(t.id),style:{cursor:"pointer"}},[(0,s.Lk)("p",oo,(0,i.v_)(n.truncateName(t.name,20)),1)],8,io),(0,s.Lk)("td",no,[(0,s.Lk)("div",null,[lo,(0,s.Lk)("span",co,(0,i.v_)(n.formatPrice(t.discount_price).integerPart),1),(0,s.Lk)("span",uo,"."+(0,i.v_)(n.formatPrice(t.discount_price).decimalPart),1)])]),(0,s.Lk)("td",null,[(0,s.Lk)("button",{type:"button",class:"btn btn-outline-danger btn-sm",style:{"margin-bottom":"1px"},onClick:e=>n.removeFromCart(t.id)},go,8,po)])])))),128))]),ho,(0,s.Lk)("div",fo,[(0,s.Lk)("div",vo,[(0,s.Lk)("h4",ko,[yo,(0,s.Lk)("span",bo,(0,i.v_)(n.formatTotal(n.total).integerPart),1),(0,s.Lk)("span",Co,"."+(0,i.v_)(n.formatTotal(n.total).decimalPart),1)])])]),Lo])]),(0,s.Lk)("div",xo,[(0,s.Lk)("form",To,[wo,(0,s.Lk)("div",Eo,[(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[0]||(e[0]=(...t)=>n.hideModal&&n.hideModal(...t))}," Cancel "),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary",onClick:e[1]||(e[1]=(...e)=>t.paymentCheckout&&t.paymentCheckout(...e))}," Pay ")])])])])])])])])]),(0,s.bF)(c)])}var _o={components:{NavBar:zt.A,Footer:Xt.A},mixins:[It.A],props:["profile"],data(){return{item:null,itemId:this.itemId,backendEndpoint:`${Ft.A.backendEndpoint}`}},created(){this.$store.dispatch("getProducts"),this.$store.dispatch("fetchCategories")},computed:{categories(){return this.$store.getters.categories},errorMessage(){return this.$store.state.errorMessage},total(){return this.$store.getters.total},user(){return this.$store.getters.user},accessToken(){return this.$store.state.accessToken},cart(){return this.$store.state.cart},favorites(){return this.$store.state.favorites}},methods:{formatPrice(t){if(null!==t||void 0!==t){const[e,a]=t.toFixed(2).split("."),r=e.replace(/\B(?=(\d{3})+(?!\d))/g,"."),s=a||"00";return{integerPart:r,decimalPart:s}}},formatTotal(t){const[e,a]=t.toString().split(".");return{integerPart:parseInt(e).toLocaleString(),decimalPart:a||"00"}},itemAlreadyInCart(t){return this.cart.some((e=>e.id===t.id))},addToCart(t){this.$store.dispatch("addToCart",t)},removeFromCart(t){this.$store.dispatch("removeFromCart",t)},redirectToItemFromCart(t){this.$store.dispatch("redirectToItem",t)},updateQuantity(t,e){this.$store.dispatch("UpdateItemQuantity",{product_id:t,newQuantity:e})},truncateName(t,e){return t.length>e?t.substring(0,e)+"..":t},hideModal(){Pr()(document).ready((function(){Pr()("#close-modal").click()}))}}};const Po=(0,St.A)(_o,[["render",$o],["__scopeId","data-v-041c7326"]]);var Ao=Po;const Io={class:"container-fluid",style:{width:"100vw",position:"sticky",margin:"0",padding:"0","align-items":"center","text-align":"center"}},Fo={class:"navbar navbar-expand-lg bg-white sticky-top navbar-light shadow-lg",style:{height:"4em","margin-left":"0","margin-right":"0","align-items":"center","text-align":"center"}},Mo={class:"container-fluid mt-5",style:{"margin-left":"10%"}},So={class:"row",style:{display:"flex","-ms-flex-wrap":"wrap","flex-wrap":"wrap",margin:"0 -16px"}},Ro={class:"col-md-8",style:{"max-width":"1200px","margin-left":"3%"}},Do=(0,s.Lk)("h3",{class:"text-center mb-4",style:{"margin-left":"2%"}},[(0,s.Lk)("i",{class:"fa fa-heart red-color",style:{"font-size":"1.6rem"}}),(0,s.eW)(" Favorite Products ")],-1),zo={class:"table table-hover"},Xo={style:{"padding-top":"1%"}},No=["src"],Oo=["onClick"],Bo={style:{"font-size":"0.95em","padding-top":"3%","padding-right":"10%","padding-left":"10%","padding-bottom":"0"}},Uo={style:{cursor:"pointer"}},Qo=["id"],jo=["id"],Vo={style:{"padding-top":"5.3%","padding-right":"10px"}},qo=(0,s.Lk)("span",{style:{"font-size":"1.1rem"}},"$",-1),Ho={style:{"font-size":"1.1rem"}},Ko={style:{"font-size":"0.8em",position:"relative",top:"-0.4em"}},Go={style:{padding:"15px","padding-top":"5%"}},Wo=["onClick"],Yo=(0,s.Lk)("i",{class:"bi bi-cart-fill"},null,-1),Jo=[Yo],Zo=(0,s.Lk)("div",{class:"container",style:{"margin-top":"3%","font-size":"2em"}}," You may also like ",-1),tn=(0,s.Lk)("div",{class:"toast",id:"cartToast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false",style:{position:"fixed",top:"12%",right:"5%",transform:"translate(0, -50%)",width:"250px","z-index":"1000"}},[(0,s.Lk)("div",{class:"toast-body",id:"cartToastBody",style:{"font-weight":"900",font:"1.1em"}})],-1);function en(t,e,a,r,o,n){const l=(0,s.g2)("NavBar"),c=(0,s.g2)("MessageArea"),d=(0,s.g2)("Footer");return(0,s.uX)(),(0,s.CE)("div",Io,[(0,s.Lk)("nav",Fo,[(0,s.bF)(l,{cart:n.cart,total:n.total,user:n.user,profile:a.profile,favorites:n.favorites},null,8,["cart","total","user","profile","favorites"])]),(0,s.Lk)("div",Mo,[(0,s.Lk)("div",So,[(0,s.Lk)("div",Ro,[Do,(0,s.Lk)("table",zo,[(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.favorites,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.id},[(0,s.Lk)("td",Xo,[(0,s.Lk)("img",{src:`${o.backendEndpoint}/static/img/${t.username}/${t.name}/${t.image}`,class:"img-fluid",alt:"Product Image",style:{"max-width":"270px",height:"150px","object-fit":"cover"}},null,8,No)]),(0,s.Lk)("td",{style:{cursor:"pointer","padding-top":"1%"},onClick:e=>n.redirectToItemFromCart(t.id)},[(0,s.Lk)("h6",null,(0,i.v_)(n.truncateName(t.name,45)),1),(0,s.Lk)("p",Bo,(0,i.v_)(n.truncateName(t.description,200)),1),(0,s.Lk)("p",Uo,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,(e=>(0,s.Lk)("span",{key:e,class:(0,i.C4)(n.getStarClasses(e,t.rating_float))},null,2))),64)),(0,s.Lk)("span",{id:"overall-rating"+t.id+"-float",class:"overall-rating",style:{"font-size":"0.9rem","font-familly":"sans-serif"}}," "+(0,i.v_)(parseFloat(t.rating_float).toFixed(2)),9,Qo),(0,s.Lk)("span",{id:"overall-rating"+t.id,class:"overall-rating2",style:{"font-size":"0.9rem","font-familly":"sans-serif"}}," ("+(0,i.v_)(t.review_number)+") ",9,jo)])],8,Oo),(0,s.Lk)("td",Vo,[qo,(0,s.Lk)("span",Ho,(0,i.v_)(n.formatPrice(t.discount_price).integerPart),1),(0,s.Lk)("span",Ko,"."+(0,i.v_)(n.formatPrice(t.discount_price).decimalPart),1)]),(0,s.Lk)("td",Go,[(0,s.Lk)("button",{type:"button",ref_for:!0,ref:"addToCartButton",onClick:e=>n.addToCart(t),class:"btn btn-outline-primary btn-sm m-0"},Jo,8,Wo)])])))),128))])])])])]),Zo,(0,s.bF)(c),(0,s.bF)(d),tn])}var an={components:{NavBar:zt.A,MessageArea:Ms,Footer:Xt.A},props:["profile"],data(){return{backendEndpoint:`${Ft.A.backendEndpoint}`}},mixins:[It.A],created(){this.$store.dispatch("fetchCategories")},computed:{categories(){return this.$store.getters.categories},errorMessage(){return this.$store.state.errorMessage},total(){return this.$store.getters.total},user(){return this.$store.getters.user},accessToken(){return this.$store.state.accessToken},cart(){return this.$store.state.cart},favorites(){return this.$store.state.favorites}},methods:{formatPrice(t){if(null!==t||void 0!==t){const[e,a]=t.toFixed(2).split("."),r=e.replace(/\B(?=(\d{3})+(?!\d))/g,"."),s=a||"00";return{integerPart:r,decimalPart:s}}},getStarClasses(t,e){const a=Math.floor(e);return t<=a?"fa fa-star checked":t===a+1&&e%1!==0?"fa fa-star-half-full checked":"fa fa-star-o checked"},itemAlreadyInCart(t){return this.cart.some((e=>e.id===t.id))},addToCart(t){this.$store.dispatch("addToCart",t)},removeFromFavorites(t){this.$store.dispatch("removeFromFavorites",t)},redirectToItemFromCart(t){this.$store.dispatch("redirectToItem",t)},truncateName(t,e){return t.length>e?t.substring(0,e)+"..":t}}};const rn=(0,St.A)(an,[["render",en]]);var sn=rn,on=a(5129);const nn=[{path:"/products",name:"home",component:Bt,props:t=>({isIdle:t.params.isIdle,lastActiveDate:t.params.lastActiveDate,inactiveTime:t.params.inactiveTime})},{path:"/",name:"NewHome",component:()=>a.e(695).then(a.bind(a,196)),props:!0},{path:"/login",name:"login",component:()=>a.e(84).then(a.bind(a,1084))},{path:"/category/:category",name:"category",component:aa,props:!0,beforeEnter:async(t,e,a)=>{try{await on.A.dispatch("getProducts"),await on.A.dispatch("getProfile"),a()}catch(r){}}},{path:"/search",name:"search",component:pi,props:()=>({cart:on.A.state.cart,profile:on.A.state.profile,favorites:on.A.state.favorites,searchResults:on.A.state.searchResults})},{path:"/cart",name:"ItemsInCart",component:Ao,props:()=>({cart:on.A.state.cart,profile:on.A.state.profile,favorites:on.A.state.favorites})},{path:"/favorites",name:"ItemsInFavorites",component:sn,props:()=>({cart:on.A.state.cart,profile:on.A.state.profile,favorites:on.A.state.favorites})},{path:"/signup",name:"signup",component:()=>a.e(507).then(a.bind(a,9507))},{path:"/Profile",name:"Profile",component:()=>a.e(700).then(a.bind(a,3700)),props:()=>({cart:on.A.state.cart,favorites:on.A.state.favorites,profile:on.A.state.profile})},{path:"/item/:itemId",name:"Item",component:Ds,props:t=>({itemId:t.params.itemId,cart:on.A.state.cart,profile:on.A.state.profile,favorites:on.A.state.favorites,user:on.A.state.user})},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>a.e(354).then(a.bind(a,7354)),props:t=>({itemId:t.params.itemId,cart:on.A.state.cart,profile:on.A.state.profile,favorites:on.A.state.favorites})}],ln=(0,r.aE)({history:(0,r.LA)(),routes:nn});var cn=ln},5129:function(t,e,a){a(4114),a(4603),a(7566),a(8721);var r=a(782),s=a(4570),i=a.n(s),o=a(5068),n=a(1662),l=a(2169),c=a(8355);e.A=(0,r.y$)({state:{accessToken:i().get("access_token")||null,refreshToken:i().get("refresh_token")||null,accessTokenExpiration:null,refreshTokenExpiration:null,isIdle:!1,lastActiveDate:null,inactiveTime:0,itemRatingsFetched:!1,user:null,user_id:null,profile:null,min:1,max:1e4,productMin:0,productMax:1e4,total:0,message:"",errorMessage:"",products:[],filteredProducts:[],searchResults:[],hasFilteredProducts:!1,isDiscountedChecked:!1,categories:[],cart:[],favorites:[],sortOrder:"asc",selectedCategories:[],selectedBrands:[],selectedRating:[],ratings:[1,2,3,4,5]},mutations:{setMessage(t,e){t.message=e},SET_SEARCH_RESULTS(t,e){t.searchResults=e},SET_PRODUCT(t,e){t.product=e},SET_PRODUCTS(t,e){t.products=e},SET_ERROR_MESSAGE(t,e){t.errorMessage=e},SET_SELECTED_BRANDS(t,e){t.selectedBrands=e},UPDATE_SELECTED_CATEGORIES(t,e){t.selectedCategories=e},SET_CATEGORIES(t,e){t.categories=e},UPDATE_FAVORITES(t,e){t.favorites=e},UPDATE_CART(t,e){t.cart=e},UPDATE_TOTAL(t,e){t.total=e},UPDATE_USER(t,e){t.user=e},UPDATE_USER_ID(t,e){t.user_id=e},UPDATE_PROFILE(t,e){t.profile=e},UPDATE_PROFILES(t,e){t.profiles=e},UPDATE_SELECTED_ITEM(t,e){t.selectedItem=e},ADD_RATING(t,e){t.selectedRating.push(e)},REMOVE_RATING(t,e){t.selectedRating.splice(e,1)},SET_MIN_PRICE(t,e){t.min=e},SET_MAX_PRICE(t,e){t.max=e},SET_RANGE_INPUT(t,{min:e,max:a}){t.rangeInput={min:e,max:a}},ADD_TO_CART(t,e){t.cart.push(e)},REMOVE_ITEM_FROM_CART(t,e){t.cart.splice(e,1)},REMOVE_ITEM_FROM_FAVORITES(t,e){t.favorites.splice(e,1)},ADD_TO_FAVORITES(t,e){t.favorites.push(e)},updateCartItemQuantity(t,{product_id:e,newQuantity:a}){const r=t.cart.find((t=>t.id===e));r&&(r.quantity=a)},TOGGLE_SORT_ORDER(t){t.sortOrder="asc"===t.sortOrder?"desc":"asc"},SORT_PRODUCTS(t){"asc"===t.sortOrder?t.products.sort(((t,e)=>t.price-e.price)):t.products.sort(((t,e)=>e.price-t.price))},setAccessToken(t,e){t.accessToken=e;const a=(0,o.s)(e).exp,r=Math.max(0,Math.floor((a-Math.floor(Date.now()/1e3))/60));t.accessTokenExpiration=r},setRefreshToken(t,e){t.refreshToken=e;const a=(0,o.s)(e).exp,r=Math.max(0,Math.floor((a-Math.floor(Date.now()/1e3))/60));t.refreshTokenExpiration=r},removeAccessToken(t){this.lastActiveDate=new Date,this.inactiveTime=0,i().remove("access_token"),i().remove("refresh_token"),t.accessToken=null,t.refreshToken=null,t.accessTokenExpiration=null,t.refreshTokenExpiration=null,t.profile=null,t.cart=[],t.favorites=[],n.A.push("/login")},SET_SELECTED_RATING(t,e){t.selectedRating=e},UPDATE_DISCOUNT_CHECKED(t,e){t.isDiscountedChecked=e},UPDATE_ITEM_RATING(t,{index:e,rating:a}){t.products[e].rating=a.rating,t.products[e].review_number=a.review_number,t.products[e].rating_float=a.rating_float}},actions:{formattedPrice(){const t=this.product.discount_price,[e,a]=t.toString().split(".");return{integerPart:parseInt(e).toLocaleString(),decimalPart:a||"00"}},updateItemRating({commit:t,state:e},{itemId:a,rating:r}){const s=e.products.findIndex((t=>t.id===a));-1!==s&&t("UPDATE_ITEM_RATING",{index:s,rating:r})},updateMessage({commit:t},e){t("setMessage",e)},setErrorMessage({commit:t},e){t("SET_ERROR_MESSAGE",e)},logout({commit:t}){t("removeAccessToken")},inactiveLogout({state:t,dispatch:e}){e("setErrorMessage","You've been logged out due to inactivity"),this.lastActiveDate=new Date,this.inactiveTime=0,i().remove("access_token"),i().remove("refresh_token"),t.accessToken=null,t.refreshToken=null,t.accessTokenExpiration=null,t.refreshTokenExpiration=null,t.profile=null,t.cart=[],t.favorites=[],n.A.push("/login")},async refreshAccessToken({commit:t,dispatch:e,state:a}){try{const r=await c.A.post(`${l.A.backendEndpoint}/api/token/refresh`,{refresh_token:a.refreshToken});if(200!==r.status)throw e("setErrorMessage","Session has expired. Please log in"),e("logout"),new Error("Token has expired");const s=r.data,n=(0,o.s)(s.access_token).exp,d=(0,o.s)(s.access_token).sub,u=(0,o.s)(s.access_token).user_id,p=Math.max(0,Math.floor((n-Math.floor(Date.now()/1e3))/60));return i().set("access_token",s.access_token,{expires:new Date(Date.now()+p),httponly:!0,samesite:"Lax"}),t("setAccessToken",s.access_token),t("UPDATE_USER",d),t("UPDATE_USER_ID",u),s.access_token}catch(r){throw e("setErrorMessage","Session has expired. Please log in"),e("logout"),new Error("Token has expired")}},async login({commit:t},{username:e,password:a,rememberMe:r}){const s=new URLSearchParams;s.append("grant_type",""),s.append("username",e),s.append("password",a),s.append("scope",""),s.append("client_id",""),s.append("client_secret",""),s.append("rememberMe",r?"true":"false");try{const e=await c.A.post(`${l.A.backendEndpoint}/api/token`,s),a=e.data,r=(0,o.s)(a.access_token).exp,d=(0,o.s)(a.access_token).sub,u=(0,o.s)(a.access_token).user_id;this.lastActiveDate=new Date,this.inactiveTime=0;const p=Math.max(0,Math.floor((r-Math.floor(Date.now()/1e3))/60));i().set("access_token",a.access_token,{expires:new Date(Date.now()+60*p*1e3)});const m=(0,o.s)(a.refresh_token).exp,g=Math.max(0,Math.floor((m-Math.floor(Date.now()/1e3))/60));i().set("refresh_token",a.refresh_token,{expires:new Date(Date.now()+60*g*1e3)}),t("UPDATE_USER",d),t("UPDATE_USER_ID",u),t("setAccessToken",a.access_token),t("setRefreshToken",a.refresh_token),n.A.push("/")}catch(d){if(d.message.startsWith("Cannot read"))return}},async getProduct({commit:t},e){try{const a=await c.A.get(`${l.A.backendEndpoint}/api/items/item/${e}`);if(200===a.status){const e=a.data;t("SET_PRODUCT",e)}else if(404===a.status)throw new Error(`Item with ID ${e} not found`)}catch(a){}},async getProducts({commit:t,state:e}){if(0===e.products.length)try{const e=await c.A.get(`${l.A.backendEndpoint}/api/items`),a=e.data;t("SET_PRODUCTS",a.items),t("UPDATE_CART",a.items_in_cart),t("UPDATE_FAVORITES",a.items_liked),t("UPDATE_TOTAL",a.total);const r=Math.max(...a.items.map((t=>t.price))),s=Math.min(...a.items.map((t=>t.price)));t("SET_MIN_PRICE",s),t("SET_MAX_PRICE",r),t("setMessage",`Found ${a.length} products`)}catch(a){}},async getProfiles({commit:t,dispatch:e}){try{const e=await c.A.get(`${l.A.backendEndpoint}/api/profile`);if(200!==e.status)t("UPDATE_PROFILES",null);else{const a=e.data;this.profiles=a,t("UPDATE_PROFILES",a)}}catch(a){a.response&&401===a.response.status||("Token Expired"===a?e("setErrorMessage","Session has expired. Please log in"):a.response.data.detail)}},async getProfile({commit:t,dispatch:e,state:a}){if(!a.user_id||!a.accessToken){const e=i().get("access_token");if(e){const a=(0,o.s)(e).sub,r=(0,o.s)(e).user_id;t("UPDATE_USER",a),t("UPDATE_USER_ID",r)}else n.A.push("/login")}try{const e=await c.A.get(`${l.A.backendEndpoint}/api/profile/${a.user_id}`);200===e.status&&t("UPDATE_PROFILE",e.data)}catch(r){r.response&&401===r.response.status||(r.response&&404===r.response.status?t("UPDATE_PROFILE",null):"Token Expired"===r&&e("logout"))}},async getSelectedBrands(){return new Promise((t=>{const e=[],a=document.querySelectorAll(".brand-checkbox:checked");a.forEach((t=>{const a=t.getAttribute("data-brand");e.push(a)})),t(e)}))},handleBrandChange({commit:t}){this.$store.dispatch("getSelectedBrands").then((e=>{t("SET_SELECTED_BRANDS",e)}))},async fetchCategories({commit:t}){try{const e=await c.A.get(`${l.A.backendEndpoint}/api/categories/category_items_len/`),a=await e.data;t("SET_CATEGORIES",a)}catch(e){}},async handleCategoryChange({commit:t,dispatch:e}){const a=await e("getSelectedCategories");t("UPDATE_SELECTED_CATEGORIES",a)},async getSelectedCategories(){return new Promise((t=>{var e=[],a=document.querySelectorAll(".cat-checkbox:checked");a.forEach((t=>{var a=t.getAttribute("data-category");e.push(a)})),t(e)}))},toggleSortOrder({commit:t}){t("TOGGLE_SORT_ORDER"),t("SORT_PRODUCTS")},redirectToItem({commit:t},e){t("UPDATE_SELECTED_ITEM",e),n.A.push({name:"Item",params:{itemId:e}})},handleRatingChange({commit:t,state:e},a){const r=e.selectedRating.indexOf(a);-1===r?t("ADD_RATING",a):t("REMOVE_RATING",r)},updateInputs({commit:t,state:e}){let a=parseInt(document.querySelector(".min-range").value),r=parseInt(document.querySelector(".max-range").value);a>=r?a=r:r<=a&&(r=a),a>=e.max-200&&(a=Math.ceil(e.productMin)),r<=e.min+200&&(r=Math.ceil(e.productMax));const s=document.querySelector(".min-range"),i=document.querySelector(".max-range");s&&(s.value=Math.ceil(a)),i&&(i.value=Math.ceil(r)),t("SET_MIN_PRICE",a),t("SET_MAX_PRICE",r)},updateHomeProductRange(){const t=this.state.products.map((t=>t.price));this.state.productMin=Math.ceil(Math.min(...t)),this.state.productMax=Math.ceil(Math.max(...t))},updateProductRange({state:t,commit:e},a){const r=t.categories.find((t=>t[0]===a))[2],s=t.products.filter((t=>t.category_id===r)),i=s.map((t=>t.price));t.productMin=Math.floor(Math.min(...i)),t.productMax=Math.round(Math.max(...i)),e("SET_MIN_PRICE",t.productMin),e("SET_MAX_PRICE",t.productMax),e("SET_RANGE_INPUT",{min:t.productMin,max:t.productMax})},Search(){var t,e,a,r,s,i;for(t=document.getElementById("filter"),e=t.value.toUpperCase(),r=document.getElementById("mycard"),a=r.getElementsByClassName("card"),i=0;i<a.length;i++)s=a[i].querySelector(".card-body h6.card-title"),s.innerText.toUpperCase().indexOf(e)>-1?a[i].style.display="":a[i].style.display="none"},scrollToTop(){window.scrollTo({top:0,left:0,behavior:"auto"})},async addToCart({commit:t,state:e},a){const r=e.cart.find((t=>t.id===a.id)),s=r?`${a.name} is already in the cart`:`${a.name} was added to the cart`,i=new bootstrap.Toast(document.getElementById("cartToast"),{delay:2e3}),o=document.getElementById("cartToastBody");if(o.innerText=s,i.show(),!r)try{const e=await c.A.post(`${l.A.backendEndpoint}/api/items/update-basket`,{item_id:a.id});if(200!==e.status)throw new Error(`HTTP error! Status: ${e.status}`);t("ADD_TO_CART",a)}catch(n){throw new Error(n)}},async addTofavorites({commit:t,state:e},a){const r=e.favorites.find((t=>t.id===a.id)),s=r?`${a.name} has been removed from Favorites `:`${a.name} has been added to Favorites`,i=new bootstrap.Toast(document.getElementById("cartToast"),{delay:2e3}),o=document.getElementById("cartToastBody");o.innerText=s,i.show();try{if(r){const r=await c.A.post(`${l.A.backendEndpoint}/api/items/remove-from-favorites`,{item_id:a.id});if(200!==r.status)throw new Error(`HTTP error! Status: ${r.status}`);const s=e.favorites.findIndex((t=>t.id===a.id));if(-1!==s){t("REMOVE_ITEM_FROM_FAVORITES",s);const e=document.getElementById(`heart${a.id}`);e&&e.classList.remove("red-color")}}else{const e=await c.A.post(`${l.A.backendEndpoint}/api/items/update-favorites`,{item_id:a.id});if(200!==e.status)throw new Error(`HTTP error! Status: ${e.status}`);t("ADD_TO_FAVORITES",a);const r=document.getElementById(`heart${a.id}`);r&&r.classList.add("red-color")}}catch(n){throw new Error(n)}},async checkFavoritesOnLoad({state:t}){const e=t.products,a=t.favorites;for(const r of e){const t=a.some((t=>t.id===r.id));if(t){const t=document.getElementById(`heart${r.id}`);t&&t.classList.add("red-color")}else{const t=document.getElementById(`heart${r.id}`);t&&t.classList.remove("red-color")}}},async UpdateItemQuantity({commit:t,state:e},{product_id:a,newQuantity:r}){r=Math.max(1,Math.min(5,r));const s=e.cart.find((t=>t.id===a));if(s)try{const e=await c.A.put(`${l.A.backendEndpoint}/api/items/update_item/${a}`,{quantity:r});if(e&&e.status&&200!==e.status)throw new Error(`HTTP error! Status: ${e.status}`);t("updateCartItemQuantity",{product_id:a,newQuantity:r})}catch(i){throw new Error(i)}},async removeFromFavorites({commit:t,state:e},a){try{const r=await c.A.post(`${l.A.backendEndpoint}/api/items/remove-from-favorites`,{item_id:a});if(200!==r.status)throw new Error(`HTTP error! Status: ${r.status}`);const s=e.favorites.findIndex((t=>t.id===a));if(-1!==s){t("REMOVE_ITEM_FROM_FAVORITES",s);const e=document.getElementById(`heart${a}`);e&&e.classList.remove("red-color")}}catch(r){throw new Error(r)}},async removeFromCart({commit:t,state:e},a){try{const r=await c.A.post(`${l.A.backendEndpoint}/user/remove-from-basket`,{item_id:a});if(r&&200!==r.status)throw new Error(`HTTP error! Status: ${r.status}`);const s=e.cart.findIndex((t=>t.id===a));-1!==s&&t("REMOVE_ITEM_FROM_CART",s)}catch(r){throw new Error(r)}},handleDiscountChange({commit:t},e){t("UPDATE_DISCOUNT_CHECKED",e)}},getters:{discountedProducts:t=>t.products.filter((t=>t.isDiscounted)),total:t=>(t.cart||[]).reduce(((t,e)=>t+Number(e.price*e.quantity)),0).toFixed(2),filteredProducts:t=>t.products.filter((e=>{const a=e.price>=t.min&&e.price<=t.max,r=0===t.selectedCategories.length||t.selectedCategories.includes(String(e.category_id)),s=0===t.selectedRating.length||t.selectedRating.includes(Math.round(e.rating_float)),i=!t.isDiscountedChecked||null!=e.discount;return a&&r&&s&&i})),filteredProductsByCategory:t=>e=>{const a=t.categories.find((t=>t[0]===e))[2];return a?t.products.filter((e=>{const r=e.price>=t.min&&e.price<=t.max&&e.category_id===parseInt(a),s=0===t.selectedRating.length||t.selectedRating.includes(Math.round(e.rating_float)),i=!t.isDiscountedChecked||null!=e.discount,o=0===t.selectedBrands.length||t.selectedBrands.includes(e.brand);return r&&s&&i&&o})):[]},accessToken:t=>t.accessToken,user:t=>t.user,user_id:t=>t.user_id,profile:t=>t.profile,profiles:t=>t.profiles,products:t=>t.products,category:t=>t.category,cart:t=>t.cart,favorites:t=>t.favorites,searchResults:t=>t.searchResults,min:t=>t.min,max:t=>t.max,categories:t=>t.categories,sortOrder:t=>t.sortOrder,selectedCategories:t=>t.selectedCategories,selectedBrands:t=>t.selectedBrands,selectedRating:t=>t.selectedRating,ratings:t=>t.ratings,productMin:t=>t.productMin,productMax:t=>t.productMax,isIdle:t=>t.isIdle,lastActiveDate:t=>t.lastActiveDate,inactiveTime:t=>t.inactiveTime,errorMessage:t=>t.errorMessage}})},9746:function(t,e,a){a.d(e,{A:function(){return kt}});var r=a(6768),s=a(4232),i=a(5130);const o={class:"container",style:{"align-items":"center","text-align":"center","margin-left":"0"}},n={class:"collapse navbar-collapse",id:"navbarNavDropdown"},l={class:"navbar-nav"},c={class:"nav-item",style:{"padding-left":"50px","margin-top":"8%"}},d=(0,r.Lk)("i",{class:"fa fa-home",style:{"font-size":"1.6rem"}},null,-1),u=[d],p={class:"navbar-nav mb-1 mb-lg-0 categories-menu",style:{"padding-left":"40%","margin-top":"9%"}},m=(0,r.Lk)("i",{class:"fa fa-bars",style:{"font-size":"1rem"}},null,-1),g=["onClick"],h={class:"input-group",style:{width:"700px","margin-top":"20px"}},f=(0,r.Lk)("div",{class:"input-group-append"},[(0,r.Lk)("button",{type:"submit",class:"btn btn-outline-success"},[(0,r.Lk)("i",{class:"fas fa-search"})])],-1),v=(0,r.Lk)("i",{class:"fa fa-heart-o red-color",style:{"font-size":"1rem"}},null,-1),k={class:"badge badge-pill badge-danger"},y={class:"d-flex align-items-center"},b=["src"],C=["onClick"],L={style:{"font-size":"0.8rem",width:"150px","margin-left":"0"}},x=(0,r.Lk)("span",{style:{"font-size":"0.8rem"}},"$",-1),T={style:{"font-size":"0.8rem"}},w={style:{"font-size":"0.6rem",position:"relative",top:"-0.4em"}},E=["onClick"],$=(0,r.Lk)("i",{class:"bi bi-trash"},null,-1),_=[$],P=(0,r.Lk)("i",{class:"bi bi-cart",style:{"font-size":"1rem"}},null,-1),A={class:"badge badge-pill badge-primary"},I={class:"d-flex align-items-center"},F=["src"],M=["onClick"],S={style:{"font-size":"0.8rem",width:"150px","margin-left":"0"}},R=(0,r.Lk)("span",{style:{"font-size":"0.8rem"}},"$",-1),D={style:{"font-size":"0.8rem"}},z={style:{"font-size":"0.6rem",position:"relative",top:"-0.4em"}},X=["onClick"],N=(0,r.Lk)("i",{class:"bi bi-trash"},null,-1),O=[N],B={id:"total",class:"btn btn-sm btn-light",style:{"pointer-events":"none",opacity:"1","margin-bottom":"1px"}},U=(0,r.Lk)("span",{style:{"font-size":"0.9rem"}},"$",-1),Q={style:{"font-size":"0.9rem"}},j={style:{"font-size":"0.6rem",position:"relative",top:"-0.6em"}},V={class:"navbar-nav mb-1 mb-lg-0 profile-menu",style:{"padding-left":"4%"}},q=["src"],H=["src"],K={key:0,class:"dropdown-item",style:{color:"grey","pointer-events":"none"}},G={class:"dropdown-item"},W={key:1,class:"dropdown-item","data-toggle":"modal","data-target":"#addItem",href:"#",style:{"font-family":"inherit","margin-top":"14%"}},Y={class:"modal fade",id:"addItem",role:"dialog","aria-labelledby":"addItemlLabel","aria-hidden":"true","data-backdrop":"false"},J={class:"modal-dialog",role:"document"},Z={class:"modal-content"},tt=(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title",id:"addItemLabel"},"Add Product")],-1),et={class:"modal-body"},at=(0,r.Fv)('<p id="error" style="text-align:left;"></p><div class="form-group"><label for="name" class="col-form-label">Name:</label><input type="text" name="name" id="item-name" placeholder="Item Name" maxlength="55" required></div><div class="form-group"><label for="price" class="col-form-label">Price: </label><input type="number" step="any" name="price" id="item-price" placeholder="99.99" max="10000" min="1" required></div><div class="form-group"><label for="discount" class="col-form-label">Discount: </label><input type="number" step="0.01" name="discount" id="discount-price" placeholder="0.8" max="0.95" min="0.1"></div><div class="form-group"><label for="brand" class="col-form-label">Brand: </label><input type="text" name="brand" id="brand" placeholder="ASUS"></div>',5),rt=(0,r.Lk)("div",{class:"form-group","form-group-file":""},[(0,r.Lk)("label",{for:"file",class:"col-form-label"},"Upload Photo:"),(0,r.Lk)("input",{type:"file",id:"file",name:"file",class:"form-control","data-filesize":"1000000","data-filesize-error":"File must be smaller then 1MB",accept:"image/*",required:""})],-1),st=(0,r.Fv)('<div class="form-group"><label for="Category" class="col-form-label">Category:</label><select name="Category"><option value="Laptops">Laptops</option><option value="Smartphones">Smartphones</option><option value="Tablets">Tablets</option><option value="Smartwatches">Smart Watches</option><option value="TV">TV</option></select></div><div class="form-group"><label for="Description" class="col-form-label">Description:</label><textarea name="Description" id="add-description" rows="4" cols="50" maxlength="250"></textarea></div>',2),it=(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",id:"close-modal"}," Close ",-1);function ot(t,e,d,$,N,ot){const nt=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",n,[(0,r.Lk)("ul",l,[(0,r.Lk)("li",c,[(0,r.Lk)("button",{class:"btn btn-light btn-sm","aria-haspopup":"true","aria-expanded":"false",onClick:e[0]||(e[0]=(...t)=>ot.goHome&&ot.goHome(...t))},u)]),(0,r.Lk)("ul",p,[(0,r.Lk)("li",{class:"nav-item dropdown",onMouseleave:e[6]||(e[6]=(...t)=>ot.hideCategories&&ot.hideCategories(...t))},[(0,r.Lk)("button",{class:"btn btn-light dropdown-toggle btn-sm",id:"categoriesDropdown","aria-haspopup":"true","aria-expanded":"false",onMouseenter:e[1]||(e[1]=(...t)=>ot.showCategories&&ot.showCategories(...t)),onClick:e[2]||(e[2]=(...t)=>ot.toggleCategories&&ot.toggleCategories(...t))},[m,(0,r.eW)(" CATEGORIES ")],32),(0,r.Lk)("div",{class:"dropdown-menu","aria-labelledby":"categoriesDropdown",style:(0,s.Tr)([{display:N.displayCategories?"none":"block"},{"margin-left":"-15px"}]),onMouseenter:e[4]||(e[4]=(...t)=>ot.showCategories&&ot.showCategories(...t)),onMouseleave:e[5]||(e[5]=(...t)=>ot.hideCategories&&ot.hideCategories(...t))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(ot.categories,((t,e)=>((0,r.uX)(),(0,r.CE)("a",{key:e,class:"dropdown-item",onClick:e=>ot.selectCategory(t[0]),style:{"font-size":"0.9em",cursor:"pointer"}},(0,s.v_)(t[0]),9,g)))),128)),(0,r.Lk)("a",{class:"dropdown-item",type:"button",onClick:e[3]||(e[3]=(...t)=>ot.goToAllProducts&&ot.goToAllProducts(...t)),style:{"font-size":"0.9em",cursor:"pointer"}}," All Products ")],36)],32)])]),(0,r.Lk)("form",{class:"form-inline",onSubmit:e[9]||(e[9]=(0,i.D$)(((...t)=>ot.search&&ot.search(...t)),["prevent"])),style:{"padding-left":"17%"}},[(0,r.Lk)("div",h,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"search",id:"filter",onKeyup:e[7]||(e[7]=t=>ot.Search()),placeholder:"Search by Keyword","aria-label":"Search","onUpdate:modelValue":e[8]||(e[8]=t=>N.searchQuery=t)},null,544),[[i.Jo,N.searchQuery]]),f])],32),d.favorites&&ot.accessToken?((0,r.uX)(),(0,r.CE)("ul",{key:0,class:"navbar-nav mb-1 mb-lg-0 profile-menu","d-flex":"","bd-highlight":"","mb-1":"",style:{"margin-top":"18px","padding-left":"3%",position:"relative"},onMouseleave:e[15]||(e[15]=(...t)=>ot.handleMouseLFavLeave&&ot.handleMouseLFavLeave(...t))},[(0,r.Lk)("button",{onMouseenter:e[10]||(e[10]=(...t)=>ot.showFavorites&&ot.showFavorites(...t)),onClick:e[11]||(e[11]=t=>N.displayLiked=!N.displayLiked),onDblclick:e[12]||(e[12]=(...t)=>ot.handleDoubleClickFavorites&&ot.handleDoubleClickFavorites(...t)),class:"btn btn-light dropdown-toggle btn-sm",id:"likedDropdown","aria-haspopup":"true","aria-expanded":"false"},[v,(0,r.eW)(" FAVORITES "),(0,r.Lk)("span",k,(0,s.v_)(d.favorites.length),1)],32),!N.displayLiked&&d.favorites.length>0?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"list-group position-absolute",style:{top:"100%",left:"-35px","z-index":"1000","min-width":"200px","max-height":"400px","overflow-y":"auto","background-color":"white",border:"1px solid #ccc","border-radius":"5px","box-shadow":"0 2px 5px rgba(0, 0, 0, 0.2)"},onMouseleave:e[14]||(e[14]=(...t)=>ot.handleMouseLFavLeave&&ot.handleMouseLFavLeave(...t))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.favorites,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"list-group-item d-flex justify-content-between align-items-center"},[(0,r.Lk)("div",y,[(0,r.Lk)("img",{src:`${N.backendEndpoint}/static/img/${t.username}/${t.name}/${t.image}`,class:"mr-2",style:{width:"45px",height:"45px","object-fit":"cover","border-radius":"5px","font-family":"Georgia, 'Times New Roman', Times, serif"}},null,8,b),(0,r.Lk)("div",{style:{cursor:"pointer"},onClick:e=>ot.redirectToItemFromNavbar(t.id)},[(0,r.Lk)("div",L,[(0,r.eW)((0,s.v_)(ot.truncateDescription(t.name,35))+" ",1),x,(0,r.Lk)("span",T,(0,s.v_)(ot.formatPrice(t.price).integerPart),1),(0,r.Lk)("span",w,"."+(0,s.v_)(ot.formatPrice(t.price).decimalPart),1)])],8,C)]),(0,r.Lk)("button",{onClick:e=>ot.removeFromFavorites(t.id),class:"btn btn-light btn-sm ml-2","data-bs-placement":"top",style:{"margin-top":"18px"}},_,8,E)])))),128)),d.favorites.length>0?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:e[13]||(e[13]=(...t)=>ot.redirectToFavorites&&ot.redirectToFavorites(...t)),class:"btn btn-sm btn-primary",style:{"margin-bottom":"0","margin-right":"0"}}," Go to Favorites ")):(0,r.Q3)("",!0)],32)):(0,r.Q3)("",!0)],32)):(0,r.Q3)("",!0),d.cart&&ot.accessToken?((0,r.uX)(),(0,r.CE)("ul",{key:1,class:"navbar-nav mb-1 mb-lg-0 profile-menu","d-flex":"","bd-highlight":"","mb-1":"",style:{"padding-left":"3%","margin-top":"0",position:"relative"},onMouseleave:e[21]||(e[21]=(...t)=>ot.handleMouseLeave&&ot.handleMouseLeave(...t))},[(0,r.Lk)("button",{onMouseenter:e[16]||(e[16]=(...t)=>ot.showCart&&ot.showCart(...t)),onClick:e[17]||(e[17]=t=>N.displayCart=!N.displayCart),onDblclick:e[18]||(e[18]=(...t)=>ot.handleDoubleClick&&ot.handleDoubleClick(...t)),class:"btn btn-light dropdown-toggle btn-sm",id:"cartDropdown","aria-haspopup":"true","aria-expanded":"false"},[P,(0,r.eW)(" CART "),(0,r.Lk)("span",A,(0,s.v_)(d.cart.length),1)],32),!N.displayCart&&d.cart.length>0?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"list-group position-absolute",style:{top:"100%",left:"-55px","z-index":"1000","min-width":"200px","max-height":"400px","overflow-y":"auto","background-color":"white",border:"1px solid #ccc","border-radius":"5px","box-shadow":"0 2px 5px rgba(0, 0, 0, 0.2)"},onMouseleave:e[20]||(e[20]=(...t)=>ot.handleMouseLeave&&ot.handleMouseLeave(...t))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.cart,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"list-group-item d-flex justify-content-between align-items-center"},[(0,r.Lk)("div",I,[(0,r.Lk)("img",{src:`${N.backendEndpoint}/static/img/${t.username}/${t.name}/${t.image}`,class:"mr-2",style:{width:"45px",height:"45px","object-fit":"cover","border-radius":"5px","font-family":"Georgia, 'Times New Roman', Times, serif"}},null,8,F),(0,r.Lk)("div",{style:{cursor:"pointer"},onClick:e=>ot.redirectToItemFromNavbar(t.id)},[(0,r.Lk)("div",S,[(0,r.eW)(" x"+(0,s.v_)(t.quantity)+" "+(0,s.v_)(ot.truncateDescription(t.name,35))+" ",1),R,(0,r.Lk)("span",D,(0,s.v_)(ot.formatPrice(t.price).integerPart),1),(0,r.Lk)("span",z,"."+(0,s.v_)(ot.formatPrice(t.price).decimalPart),1)])],8,M)]),(0,r.Lk)("button",{onClick:e=>ot.removeFromCart(t.id),class:"btn btn-light btn-sm ml-2","data-bs-placement":"top",style:{"margin-top":"16px"}},O,8,X)])))),128)),(0,r.Lk)("button",B,[(0,r.eW)(" Total: "+(0,s.v_)(d.cart.length)+" products - ",1),U,(0,r.Lk)("span",Q,(0,s.v_)(ot.formatTotal(ot.total).integerPart),1),(0,r.Lk)("span",j,"."+(0,s.v_)(ot.formatTotal(ot.total).decimalPart),1)]),d.cart.length>0?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:e[19]||(e[19]=(...t)=>ot.redirectToCart&&ot.redirectToCart(...t)),class:"btn btn-sm btn-primary",style:{"margin-bottom":"0","margin-right":"0"}}," Go to Cart ")):(0,r.Q3)("",!0)],32)):(0,r.Q3)("",!0)],32)):(0,r.Q3)("",!0),(0,r.Lk)("ul",V,[(0,r.Lk)("li",{class:"nav-item dropdown",onMouseleave:e[27]||(e[27]=(...t)=>ot.hideDropdown&&ot.hideDropdown(...t))},[(0,r.Lk)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer"},onMouseenter:e[24]||(e[24]=(...t)=>ot.showDropdown&&ot.showDropdown(...t))},[d.profile?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${N.backendEndpoint}/static/img/${d.profile.primary_email}/profile/${d.profile.avatar}`,width:"50",height:"50",class:"rounded-circle",onMouseenter:e[22]||(e[22]=(...t)=>ot.showDropdown&&ot.showDropdown(...t))},null,40,q)):((0,r.uX)(),(0,r.CE)("img",{key:1,src:a(3103),width:"50",height:"50",class:"rounded-circle",onMouseenter:e[23]||(e[23]=(...t)=>ot.showDropdown&&ot.showDropdown(...t))},null,40,H))],32),(0,r.bo)((0,r.Lk)("div",{class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",onMouseleave:e[26]||(e[26]=(...t)=>ot.hideDropdown&&ot.hideDropdown(...t))},[ot.user?((0,r.uX)(),(0,r.CE)("a",K,(0,s.v_)(ot.user),1)):(0,r.Q3)("",!0),(0,r.Lk)("a",G,[(0,r.bF)(nt,{style:{"text-decoration":"none",color:"inherit","font-family":"inherit"},to:"/Profile"},{default:(0,r.k6)((()=>[(0,r.eW)("Profile")])),_:1})]),(0,r.Lk)("a",{class:"dropdown-item",style:{cursor:"pointer"},onClick:e[25]||(e[25]=(...t)=>ot.logout&&ot.logout(...t))}," Logout "),"krassy@mail.bg"===ot.user?((0,r.uX)(),(0,r.CE)("a",W," Add Product ")):(0,r.Q3)("",!0)],544),[[i.aG,N.isDropdownVisible]])],32)])]),(0,r.Lk)("div",Y,[(0,r.Lk)("div",J,[(0,r.Lk)("div",Z,[tt,(0,r.Lk)("div",et,[(0,r.Lk)("form",{enctype:"multipart/form-data","data-toggle":"validator",id:"createItem",onSubmit:e[29]||(e[29]=(0,i.D$)(((...t)=>ot.createItem&&ot.createItem(...t)),["prevent"]))},[at,rt,st,(0,r.Lk)("button",{id:"submit-button",class:"btn btn-primary",onClick:e[28]||(e[28]=(...t)=>ot.hideModal&&ot.hideModal(...t))}," Save "),it],32)])])])])])}a(4114);var nt=a(6587),lt=a.n(nt),ct=a(8355),dt=a(9135),ut=a(4570),pt=a.n(ut),mt=a(2169),gt=a(1662),ht={props:["cart","avatar","profile","favorites"],emits:["removeFromCart"],mixins:[dt.A],data(){return{displayCart:!0,displayLiked:!0,displayCategories:!0,isDropdownVisible:!1,backendEndpoint:`${mt.A.backendEndpoint}`,searchQuery:"",categoryName:null}},computed:{errorMessage(){return this.$store.getters.errorMessage},accessToken(){return this.$store.getters.accessToken||null},total(){return this.$store.getters.total},user(){return this.$store.getters.user},user_id(){return this.$store.getters.user_id},categories(){return this.$store.getters.categories}},methods:{formatPrice(t){if(null!==t||void 0!==t){const[e,a]=t.toFixed(2).split("."),r=e.replace(/\B(?=(\d{3})+(?!\d))/g,"."),s=a||"00";return{integerPart:r,decimalPart:s}}},goHome(){this.$router.push({name:"NewHome"})},goToAllProducts(){window.location.assign("/products"),this.$nextTick((()=>{window.scrollTo({top:0,behavior:"auto"})})),this.hideCategories()},formatTotal(t){const[e,a]=t.toString().split(".");return{integerPart:parseInt(e).toLocaleString(),decimalPart:a||"00"}},selectCategory(t){this.$store.commit("SET_SELECTED_BRANDS",[]);const e=document.querySelectorAll('input[type="checkbox"]');e.forEach((t=>{t.checked=!1})),this.$store.dispatch("updateProductRange",t).then((()=>{this.$router.push({name:"category",params:{category:t}}),window.scrollTo({top:0,behavior:"auto"})})).catch((t=>{throw t})),this.hideCategories()},Search(){var t,e,a,r,s,i;if(this.$route.path.startsWith("/category")||"/products"===this.$route.path)for(t=document.getElementById("filter"),e=t.value.toUpperCase(),r=document.getElementById("mycard"),a=r.getElementsByClassName("card"),i=0;i<a.length;i++)s=a[i].querySelector(".card-body h6.card-title"),s.innerText.toUpperCase().indexOf(e)>-1?a[i].style.display="":a[i].style.display="none"},async search(){if(""!==this.searchQuery.trim()&&this.searchQuery&&"/products"!==this.$route.path&&!this.$route.path.startsWith("/category"))try{const t=await ct.A.get(`${mt.A.backendEndpoint}/api/items/search/`,{params:{q:this.searchQuery}}),e=t.data;e.length>0?(this.$store.commit("SET_SEARCH_RESULTS",e),this.$store.state.searchResults.map((t=>this.$store.dispatch("getItemRating",t.id))),this.$store.dispatch("updateMessage",`Found ${e.length} results for '${this.searchQuery}'`),this.$router.push("/search")):this.$store.dispatch("updateMessage",`Found ${e.length} results for '${this.searchQuery}'`)}catch(t){}},redirectToItemFromNavbar(t){this.$router.push({name:"Item",params:{itemId:t}})},redirectToCart(){this.$router.push({name:"ItemsInCart"})},redirectToFavorites(){this.$router.push({name:"ItemsInFavorites"})},removeFromCart(t){this.$store.dispatch("removeFromCart",t)},addTofavorites(t){this.$store.dispatch("addTofavorites",t)},removeFromFavorites(t){this.$store.dispatch("removeFromFavorites",t)},logout(){this.$store.state.accessToken=null,this.$store.state.refreshToken=null,pt().remove("access_token"),pt().remove("refresh_token"),this.$store.dispatch("setErrorMessage","You have been logged out"),gt.A.push("/login")},showDropdown(){this.isDropdownVisible=!0},hideDropdown(){this.isDropdownVisible=!1},handleMouseLeave(){this.hideCart()},handleMouseLFavLeave(){this.hideFavorites()},hideCart(){setTimeout((()=>{this.displayCart=!0}),300)},showCart(){setTimeout((()=>{this.displayCart=!1,this.displayLiked=!0}),100)},hideFavorites(){setTimeout((()=>{this.displayLiked=!0}),300)},showFavorites(){setTimeout((()=>{this.displayLiked=!1,this.displayCart=!0}),100)},showCategories(){setTimeout((()=>{this.displayCategories=!1}),100)},hideCategories(){setTimeout((()=>{this.displayCategories=!0}),100)},handleMouseCatLeave(){this.hideCategories()},toggleCategories(){this.displayCategories=!this.displayCategories},createItem(){const t=new FormData(document.getElementById("createItem"));ct.A.post(`${mt.A.backendEndpoint}/products/create_item`,t,{}).then((t=>{201===t.status&&(window.location.href="/")})).catch((t=>{403===t.response.status&&lt()("#error").text("Item with that name already exists!")}))},hideModal(){lt()(document).ready((function(){lt()("#close-modal").click()}))},truncateDescription(t,e){return t.length>e?t.substring(0,e)+"..":t},handleDoubleClick(){this.$router.push("/cart")},handleDoubleClickFavorites(){this.$router.push("/favorites")}}},ft=a(1241);const vt=(0,ft.A)(ht,[["render",ot]]);var kt=vt},3755:function(t,e,a){a.d(e,{A:function(){return k}});var r=a(6768);const s=t=>((0,r.Qi)("data-v-d10514b8"),t=t(),(0,r.jt)(),t),i=s((()=>(0,r.Lk)("div",{style:{cursor:"pointer","padding-left":"45%"}},"Back to Top",-1))),o=[i],n=(0,r.Fv)('<section id="newsletter" class="section-p1" style="margin-top:1%;" data-v-d10514b8><div class="newstext" data-v-d10514b8><h4 style="margin-top:15px;" data-v-d10514b8>Sign Up for Newsletters</h4><p data-v-d10514b8>Get Email updates about our latest shop and special offers.</p></div><div class="form" style="margin-top:15px;" data-v-d10514b8><input type="text" placeholder="Your email address" data-v-d10514b8><button class="btn normal" data-v-d10514b8>Sign Up</button></div></section>',1),l={class:"section-p1"},c={class:"col"},d={href:"#"},u=["src"],p=(0,r.Fv)('<h4 data-v-d10514b8>Contact</h4><p data-v-d10514b8><strong data-v-d10514b8>Phone:</strong>+123456789, +987654321</p><p data-v-d10514b8><strong data-v-d10514b8>Hours:</strong>10.00 - 18.00, Mon - Sat</p><div class="follow" data-v-d10514b8><h4 data-v-d10514b8>Follow Us</h4><div class="icon" data-v-d10514b8><i class="fab fa-facebook-f" data-v-d10514b8></i><i class="fab fa-instagram" data-v-d10514b8></i><i class="fab fa-twitter" data-v-d10514b8></i><i class="fab fa-youtube" data-v-d10514b8></i><i class="fab fa-pinterest-p" data-v-d10514b8></i></div></div>',4),m=(0,r.Fv)('<div class="sec" data-v-d10514b8><div class="col" data-v-d10514b8><h4 data-v-d10514b8>About</h4><a href="#" data-v-d10514b8>About Us</a><a href="#" data-v-d10514b8>Delivery Information</a><a href="#" data-v-d10514b8>Privacy Policy</a><a href="#" data-v-d10514b8>Terms and Condition</a><a href="#" data-v-d10514b8>Contact Us</a></div><div class="col" data-v-d10514b8><h4 data-v-d10514b8>My Account</h4><a href="#" data-v-d10514b8>View Cart</a><a href="#" data-v-d10514b8>My Account</a><a href="#" data-v-d10514b8>My Wishlist</a><a href="#" data-v-d10514b8>Track my Order</a><a href="#" data-v-d10514b8>Help</a></div><div class="col install" data-v-d10514b8><h4 data-v-d10514b8>Install App</h4><p data-v-d10514b8>From App Store or Google Play</p><div class="row" data-v-d10514b8></div><p data-v-d10514b8>Secured Payment Gateways</p></div></div><div class="coypright" data-v-d10514b8><p data-v-d10514b8>© 2024 All rights reserved!</p></div>',2);function g(t,e,s,i,g,h){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("section",{id:"newsletter",class:"section-p1",style:{"margin-top":"2%",height:"50px",color:"white",cursor:"pointer"},onClick:e[0]||(e[0]=(...t)=>h.goToTop&&h.goToTop(...t))},o),n,(0,r.Lk)("footer",l,[(0,r.Lk)("div",c,[(0,r.Lk)("a",d,[(0,r.Lk)("img",{class:"logo",src:a(4181),style:{width:"100%",height:"50px","margin-bottom":"0","margin-top":"0",padding:"0"}},null,8,u)]),p]),m])])}a(4114);var h={props:["cart","avatar","profile","favorites"],methods:{goToAllProducts(){this.$router.push({name:"home"}),this.$nextTick((()=>{window.scrollTo({top:0,behavior:"auto"})}))},goToTop(){window.scrollTo({top:0,behavior:"auto"})}}},f=a(1241);const v=(0,f.A)(h,[["render",g],["__scopeId","data-v-d10514b8"]]);var k=v},4181:function(t,e,a){t.exports=a.p+"img/eshop-logo-png.c8be066d.png"},3103:function(t,e,a){t.exports=a.p+"img/img_avatar.b27ee444.png"},1833:function(t,e,a){t.exports=a.p+"img/loading.a944ed0a.gif"},6634:function(t,e,a){t.exports=a.p+"img/no_result.f9bb7069.gif"}},e={};function a(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,r,s,i){if(!r){var o=1/0;for(d=0;d<t.length;d++){r=t[d][0],s=t[d][1],i=t[d][2];for(var n=!0,l=0;l<r.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((function(t){return a.O[t](r[l])}))?r.splice(l--,1):(n=!1,i<o&&(o=i));if(n){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[r,s,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,r){return a.f[r](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{84:"2caef5a2",354:"dd863949",507:"f2116932",695:"06e18aba",700:"0266b7cb"}[t]+".js"}}(),function(){a.miniCssF=function(t){return"css/"+t+"."+{84:"8267be70",695:"8c9720b8",700:"9705d59c"}[t]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="frontend:";a.l=function(r,s,i,o){if(t[r])t[r].push(s);else{var n,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==e+i){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",e+i),n.src=r),t[r]=[s];var p=function(e,a){n.onerror=n.onload=null,clearTimeout(m);var s=t[r];if(delete t[r],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((function(t){return t(a)})),e)return e(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){if("undefined"!==typeof document){var t=function(t,e,r,s,i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",a.nc&&(o.nonce=a.nc);var n=function(a){if(o.onerror=o.onload=null,"load"===a.type)s();else{var r=a&&a.type,n=a&&a.target&&a.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+r+": "+n+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=n,o.parentNode&&o.parentNode.removeChild(o),i(l)}};return o.onerror=o.onload=n,o.href=e,r?r.parentNode.insertBefore(o,r.nextSibling):document.head.appendChild(o),o},e=function(t,e){for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var s=a[r],i=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===t||i===e))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){s=o[r],i=s.getAttribute("data-href");if(i===t||i===e)return s}},r=function(r){return new Promise((function(s,i){var o=a.miniCssF(r),n=a.p+o;if(e(o,n))return s();t(r,n,null,s,i)}))},s={524:0};a.f.miniCss=function(t,e){var a={84:1,695:1,700:1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=r(t).then((function(){s[t]=0}),(function(e){throw delete s[t],e})))}}}(),function(){var t={524:0};a.f.j=function(e,r){var s=a.o(t,e)?t[e]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise((function(a,r){s=t[e]=[a,r]}));r.push(s[2]=i);var o=a.p+a.u(e),n=new Error,l=function(r){if(a.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;n.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",n.name="ChunkLoadError",n.type=i,n.request=o,s[1](n)}};a.l(o,l,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,i,o=r[0],n=r[1],l=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var d=l(a)}for(e&&e(r);c<o.length;c++)i=o[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(5623)}));r=a.O(r)})();
//# sourceMappingURL=app.4f74fabc.js.map